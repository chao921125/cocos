window.__require=function n(e,t,o){function r(a,c){if(!t[a]){if(!e[a]){var s=a.split("/");if(s=s[s.length-1],!e[s]){var u="function"==typeof __require&&__require;if(!c&&u)return u(s,!0);if(i)return i(s,!0);throw new Error("Cannot find module '"+a+"'")}a=s}var l=t[a]={exports:{}};e[a][0].call(l.exports,function(n){return r(e[a][1][n]||n)},l,l.exports,n,e,t,o)}return t[a].exports}for(var i="function"==typeof __require&&__require,a=0;a<o.length;a++)r(o[a]);return r}({1:[function(n,e,t){var o,r,i=e.exports={};function a(){throw new Error("setTimeout has not been defined")}function c(){throw new Error("clearTimeout has not been defined")}function s(n){if(o===setTimeout)return setTimeout(n,0);if((o===a||!o)&&setTimeout)return o=setTimeout,setTimeout(n,0);try{return o(n,0)}catch(e){try{return o.call(null,n,0)}catch(e){return o.call(this,n,0)}}}function u(n){if(r===clearTimeout)return clearTimeout(n);if((r===c||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(n);try{return r(n)}catch(e){try{return r.call(null,n)}catch(e){return r.call(this,n)}}}(function(){try{o="function"==typeof setTimeout?setTimeout:a}catch(n){o=a}try{r="function"==typeof clearTimeout?clearTimeout:c}catch(n){r=c}})();var l,f=[],h=!1,d=-1;function p(){h&&l&&(h=!1,l.length?f=l.concat(f):d=-1,f.length&&m())}function m(){if(!h){var n=s(p);h=!0;for(var e=f.length;e;){for(l=f,f=[];++d<e;)l&&l[d].run();d=-1,e=f.length}l=null,h=!1,u(n)}}function y(n,e){this.fun=n,this.array=e}function v(){}i.nextTick=function(n){var e=new Array(arguments.length-1);if(arguments.length>1)for(var t=1;t<arguments.length;t++)e[t-1]=arguments[t];f.push(new y(n,e)),1!==f.length||h||s(m)},y.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=v,i.addListener=v,i.once=v,i.off=v,i.removeListener=v,i.removeAllListeners=v,i.emit=v,i.prependListener=v,i.prependOnceListener=v,i.listeners=function(n){return[]},i.binding=function(n){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(n){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},{}],HelloWorld:[function(n,e,t){"use strict";cc._RF.push(e,"280c3rsZJJKnZ9RqbALVwtK","HelloWorld"),cc.Class({extends:cc.Component,properties:{label:{default:null,type:cc.Label},text:"Hello, World!"},onLoad:function(){},update:function(n){}}),cc._RF.pop()},{}],Main:[function(n,e,t){"use strict";cc._RF.push(e,"87eeb7YlMVMhJEo2v7YlRaI","Main");var o=n("./async");cc.Class({extends:cc.Component,properties:{mPlaySanke:{default:null,type:cc.Prefab},mYK:{default:null,type:cc.Prefab},mCamera:{default:null,type:cc.Camera},time_fiex:0,time_fiex2:0,mSpeedBtn:{default:null,type:cc.Prefab},mFood:{default:null,type:cc.Prefab},mGameOverUI:{default:null,type:cc.Node},_mScene:null,_mTimeFood:0,_mTimeConputer:0,mSnakeAI:{type:cc.Prefab,default:[]},_mSnakeArr:[],_mSnankeNum:10,_myFoodPool:{type:cc.NodePool,default:null},_mSnakePool:{type:cc.NodePool,default:null},_mSnakeChildrenPool:{type:cc.NodePool,default:null},snake_children:{default:null,type:cc.Prefab}},createFood:function(n){for(var e=0;e<n;e++){var t=cc.instantiate(this.mFood);this._myFoodPool.put(t)}},createChildren:function(n){for(var e=0;e<n;e++){var t=cc.instantiate(this.snake_children);this._mSnakeChildrenPool.put(t)}},randomFood:function(n){var e=this;if(this._mScene.children[1].childrenCount>=500)return!1;var t=o.myrange(0,this._myFoodPool.size());o.eachLimit(t,n,function(n,t){var o=null;e._myFoodPool.size()>0?((o=e._myFoodPool.get(e._myFoodPool)).color=new cc.Color(e.getRndInteger(0,255),e.getRndInteger(0,255),e.getRndInteger(0,255)),o.active=!0,o.x=e.getRndInteger(-2499,2500)+480,o.y=e.getRndInteger(-2499,2500)+320):((o=cc.instantiate(e.mFood)).color=new cc.Color(e.getRndInteger(0,255),e.getRndInteger(0,255),e.getRndInteger(0,255)),o.active=!0,o.x=e.getRndInteger(-2499,2500)+480,o.y=e.getRndInteger(-2499,2500)+320),o.parent=e._mScene.children[1]},function(){})},randomConputerSnake:function(){var n=this,e=o.myrange(0,this._mSnakePool.size());o.eachLimit(e,10,function(e,t){var o=null;(o=n._mSnakePool.size()>0?n._mSnakePool.get(n._mSnakePool):cc.instantiate(n.mSnakeAI)).active=!0,o.parent=n._mScene.children[5]},function(){})},getRndInteger:function(n,e){return Math.floor(Math.random()*(e-n))+n},onLoad:function(){cc.director.isPaused()&&cc.director.resume();var n=this.mPlaySanke.data,e=this.mYK.data,t=this.mSpeedBtn;this._mScene=cc.director.getScene(),this.mPlaySanke=cc.instantiate(n),this.mYK=cc.instantiate(e),this.mSpeedBtn=cc.instantiate(t),this._mSnakeChildrenPool=new cc.NodePool("snake_children"),this.createChildren(300),this._mSnankeNum=12;for(var o=0;o<this._mSnankeNum;o++){(i=cc.instantiate(this.mSnakeAI[o])).x=480,i.y=320,i.children[i.childrenCount-1].x=this.getRndInteger(-2e3,2e3),i.children[i.childrenCount-1].y=this.getRndInteger(-2e3,2e3),this._mSnakeArr.push(i)}this.mPlaySanke.x=480,this.mPlaySanke.y=320,this.mPlaySanke.mYg=this.mYK.children[1],this.mPlaySanke.parent=this._mScene,this.mYK.x=130,this.mYK.y=130,this.mYK.parent=this._mScene,this.mSpeedBtn.x=840,this.mSpeedBtn.y=120,this.mSpeedBtn.parent=this._mScene,this.mPlaySanke=this.mPlaySanke.getComponent("sanke_play"),this.mPlaySanke.gameOver=!1,this.mPlaySanke.mYg=this.mYK.children[1].getComponent("yg"),this.mPlaySanke.mCamera=this.mCamera,this.mSpeedBtn=this.mSpeedBtn.getComponent("sanke_btn"),this.mSpeedBtn.m_sanke=this.mPlaySanke.node,this._myFoodPool=new cc.NodePool("food"),this.createFood(800),this.randomFood(500),console.log(this._myFoodPool.size());for(var r=0;r<this._mSnankeNum;r++){var i;(i=this._mSnakeArr[r].getComponent("sanke_ai")).mSnakeStart=1+r,i.node.parent=this._mScene.children[5]}},onGameOver:function(n,e){switch(e){case"back_main":console.log("\u8fd4\u56de\u5927\u5385"),cc.director.loadScene("test"),this._myFoodPool.clear(),this._mSnakeChildrenPool.clear();break;case"fuhuo":cc.director.isPaused()&&cc.director.resume(),this.mPlaySanke.gameOver=!1,this.node.children[0].active=!1;var t=this.mPlaySanke.node,o=t.childrenCount,r=t.children[o-1];r.x=this.getRndInteger(-2e3,2e3)+480,r.y=this.getRndInteger(-2e3,2e3)+320;for(var i=r.parent.getComponent("sanke_play"),a=0;a<o;a++)i.pos_set[a].x=r.x,i.pos_set[a].y=r.y,i.pos_set[a].z=0;break;default:console.log("\u670d\u52a1\u5668\u7e41\u5fd9!")}},start:function(){},fiexd_update:function(n){var e=this;this.mPlaySanke.moveSanke(n);this.mPlaySanke.getComponent("sanke_play");this._mScene.children[2].getComponent(cc.Label).string="Score:"+10*this.mPlaySanke.getComponent("sanke_play")._m_food_num;var t=this._mScene.children[3].getComponent(cc.Label);t.string="Pos:"+Math.floor(this.mPlaySanke.node.children[this.mPlaySanke.node.childrenCount-1].x)+"-"+Math.floor(this.mPlaySanke.node.children[this.mPlaySanke.node.childrenCount-1].y);var r=this._mScene.children[4].getComponent(cc.Label);Math.round(100*this.mCamera.zoomRatio),Math.round(100*this.mPlaySanke.node.scale);r.string="xxx:"+this.mCamera.zoomRatio,this.mCamera.zoomRatio>this.mPlaySanke.getComponent("sanke_play").mCZoomRatio&&(this.mCamera.zoomRatio-=.01),this._mTimeFood+=n,this._mTimeFood>=100&&(this.randomFood(100),this._mTimeFood-=100),this._mTimeConputer+=n,this._mTimeConputer>=500&&(this._mTimeConputer-=500),this.mPlaySanke.gameOver&&(cc.director.pause(),t.string="\u6e38\u620f\u7ed3\u675f",this.node.children[0].active=!0);var i=this.node.parent.parent.children[5],a=o.myrange(0,i.childrenCount),c=this._mSnankeNum<10?10:this._mSnankeNum;o.eachLimit(a,c,function(t,o){var r=i.children[t].getComponent("sanke_ai");r._m_random_time+=n,r._m_random_time>=200&&(r.mRandomPos.x=e.getRndInteger(-10,11)/10,r.mRandomPos.y=e.getRndInteger(-10,11)/10,r._m_random_time-=200)},function(){})},update:function(n){this.time_fiex+=Math.round(100*n);for(var e=this.mPlaySanke.speed_time;this.time_fiex>e;)this.time_fiex-=e,this.fiexd_update(e);for(this.time_fiex2+=Math.round(100*n);this.time_fiex2>2;){this.time_fiex2-=2;var t=this.node.parent.parent.children[5],r=o.myrange(0,t.childrenCount),i=this._mSnankeNum<10?10:this._mSnankeNum;o.eachLimit(r,i,function(n,e){t.children[n].getComponent("sanke_ai").moveSanke(.016)},function(){})}}}),cc._RF.pop()},{"./async":"async"}],UIBtn:[function(n,e,t){"use strict";cc._RF.push(e,"e2f3cRmZ0JD6LHrpxwnizvO","UIBtn"),cc.Class({extends:cc.Component,properties:{mProgressBar:{default:null,type:cc.Node},mLabel:{default:null,type:cc.Node}},onIsOK:function(n,e){console.log(e)},onLoginGame:function(n,e){switch(e){case"login_game":console.log("\u767b\u5f55\u6e38\u620f"),cc.director.loadScene("helloworld");break;default:console.log("\u670d\u52a1\u5668\u7e41\u5fd9\uff01\u8bf7\u7a0d\u540e\u518d\u8bd5")}},onLoad:function(){var n=this;this.node.children[0].active=!1;var e=this.mProgressBar.getComponent(cc.ProgressBar),t=this.mLabel.getComponent(cc.Label);cc.director.preloadScene("helloworld",function(n,o,r){var i=n/o;e.progress=i,t.string=Math.floor(100*i)+"%"},function(){cc.log("\u9884\u52a0\u8f7dhelloworld"),n.node.children[0].active=!0})},start:function(){}}),cc._RF.pop()},{}],async:[function(n,e,t){(function(n,o){"use strict";cc._RF.push(e,"bacdb5ns2pHWZ3ihnjtXfTp","async"),function(n,o){"object"==typeof t&&void 0!==e?o(t):"function"==typeof define&&define.amd?define(["exports"],o):o((void 0).async=(void 0).async||{})}(0,function(t){function r(n,e){e|=0;for(var t=Math.max(n.length-e,0),o=Array(t),r=0;r<t;r++)o[r]=n[e+r];return o}var i=function(n){var e=r(arguments,1);return function(){var t=r(arguments);return n.apply(null,e.concat(t))}},a=function(n){return function(){var e=r(arguments),t=e.pop();n.call(this,e,t)}};function c(n){var e=typeof n;return null!=n&&("object"==e||"function"==e)}var s="function"==typeof setImmediate&&setImmediate,u="object"==typeof n&&"function"==typeof n.nextTick;function l(n){setTimeout(n,0)}function f(n){return function(e){var t=r(arguments,1);n(function(){e.apply(null,t)})}}var h=f(s?setImmediate:u?n.nextTick:l);function d(n){return a(function(e,t){var o;try{o=n.apply(this,e)}catch(n){return t(n)}c(o)&&"function"==typeof o.then?o.then(function(n){p(t,null,n)},function(n){p(t,n.message?n:new Error(n))}):t(null,o)})}function p(n,e,t){try{n(e,t)}catch(n){h(m,n)}}function m(n){throw n}var y="function"==typeof Symbol;function v(n){return y&&"AsyncFunction"===n[Symbol.toStringTag]}function g(n){return v(n)?d(n):n}function _(n){return function(e){var t=r(arguments,1),o=a(function(t,o){var r=this;return n(e,function(n,e){g(n).apply(r,t.concat(e))},o)});return t.length?o.apply(this,t):o}}var b="object"==typeof o&&o&&o.Object===Object&&o,S="object"==typeof self&&self&&self.Object===Object&&self,k=b||S||Function("return this")(),C=k.Symbol,x=Object.prototype,P=x.hasOwnProperty,L=x.toString,R=C?C.toStringTag:void 0;function M(n){var e=P.call(n,R),t=n[R];try{n[R]=void 0;var o=!0}catch(n){}var r=L.call(n);return o&&(e?n[R]=t:delete n[R]),r}var w=Object.prototype.toString;function F(n){return w.call(n)}var j="[object Null]",O="[object Undefined]",I=C?C.toStringTag:void 0;function E(n){return null==n?void 0===n?O:j:I&&I in Object(n)?M(n):F(n)}var T="[object AsyncFunction]",B="[object Function]",A="[object GeneratorFunction]",N="[object Proxy]";function z(n){if(!c(n))return!1;var e=E(n);return e==B||e==A||e==T||e==N}var Y=9007199254740991;function K(n){return"number"==typeof n&&n>-1&&n%1==0&&n<=Y}function U(n){return null!=n&&K(n.length)&&!z(n)}var q={};function H(){}function V(n){return function(){if(null!==n){var e=n;n=null,e.apply(this,arguments)}}}var D="function"==typeof Symbol&&Symbol.iterator,W=function(n){return D&&n[D]&&n[D]()};function Z(n,e){for(var t=-1,o=Array(n);++t<n;)o[t]=e(t);return o}function G(n){return null!=n&&"object"==typeof n}var J="[object Arguments]";function Q(n){return G(n)&&E(n)==J}var X=Object.prototype,$=X.hasOwnProperty,nn=X.propertyIsEnumerable,en=Q(function(){return arguments}())?Q:function(n){return G(n)&&$.call(n,"callee")&&!nn.call(n,"callee")},tn=Array.isArray;var on="object"==typeof t&&t&&!t.nodeType&&t,rn=on&&"object"==typeof e&&e&&!e.nodeType&&e,an=rn&&rn.exports===on?k.Buffer:void 0,cn=(an?an.isBuffer:void 0)||function(){return!1},sn=9007199254740991,un=/^(?:0|[1-9]\d*)$/;function ln(n,e){var t=typeof n;return!!(e=null==e?sn:e)&&("number"==t||"symbol"!=t&&un.test(n))&&n>-1&&n%1==0&&n<e}var fn={};fn["[object Float32Array]"]=fn["[object Float64Array]"]=fn["[object Int8Array]"]=fn["[object Int16Array]"]=fn["[object Int32Array]"]=fn["[object Uint8Array]"]=fn["[object Uint8ClampedArray]"]=fn["[object Uint16Array]"]=fn["[object Uint32Array]"]=!0,fn["[object Arguments]"]=fn["[object Array]"]=fn["[object ArrayBuffer]"]=fn["[object Boolean]"]=fn["[object DataView]"]=fn["[object Date]"]=fn["[object Error]"]=fn["[object Function]"]=fn["[object Map]"]=fn["[object Number]"]=fn["[object Object]"]=fn["[object RegExp]"]=fn["[object Set]"]=fn["[object String]"]=fn["[object WeakMap]"]=!1;var hn="object"==typeof t&&t&&!t.nodeType&&t,dn=hn&&"object"==typeof e&&e&&!e.nodeType&&e,pn=dn&&dn.exports===hn&&b.process,mn=function(){try{var n=dn&&dn.require&&dn.require("util").types;return n||pn&&pn.binding&&pn.binding("util")}catch(n){}}(),yn=mn&&mn.isTypedArray,vn=yn?function(n){return function(e){return n(e)}}(yn):function(n){return G(n)&&K(n.length)&&!!fn[E(n)]},gn=Object.prototype.hasOwnProperty;function _n(n,e){var t=tn(n),o=!t&&en(n),r=!t&&!o&&cn(n),i=!t&&!o&&!r&&vn(n),a=t||o||r||i,c=a?Z(n.length,String):[],s=c.length;for(var u in n)!e&&!gn.call(n,u)||a&&("length"==u||r&&("offset"==u||"parent"==u)||i&&("buffer"==u||"byteLength"==u||"byteOffset"==u)||ln(u,s))||c.push(u);return c}var bn=Object.prototype;function Sn(n){var e=n&&n.constructor;return n===("function"==typeof e&&e.prototype||bn)}var kn=function(n,e){return function(t){return n(e(t))}}(Object.keys,Object),Cn=Object.prototype.hasOwnProperty;function xn(n){if(!Sn(n))return kn(n);var e=[];for(var t in Object(n))Cn.call(n,t)&&"constructor"!=t&&e.push(t);return e}function Pn(n){return U(n)?_n(n):xn(n)}function Ln(n){var e=-1,t=n.length;return function(){return++e<t?{value:n[e],key:e}:null}}function Rn(n){var e=-1;return function(){var t=n.next();return t.done?null:(e++,{value:t.value,key:e})}}function Mn(n){var e=Pn(n),t=-1,o=e.length;return function(){var r=e[++t];return t<o?{value:n[r],key:r}:null}}function wn(n){if(U(n))return Ln(n);var e=W(n);return e?Rn(e):Mn(n)}function Fn(n){return function(){if(null===n)throw new Error("Callback was already called.");var e=n;n=null,e.apply(this,arguments)}}function jn(n){return function(e,t,o){if(o=V(o||H),n<=0||!e)return o(null);var r=wn(e),i=!1,a=0,c=!1;function s(n,e){if(a-=1,n)i=!0,o(n);else{if(e===q||i&&a<=0)return i=!0,o(null);c||u()}}function u(){for(c=!0;a<n&&!i;){var e=r();if(null===e)return i=!0,void(a<=0&&o(null));a+=1,t(e.value,e.key,Fn(s))}c=!1}u()}}function On(n,e,t,o){jn(e)(n,g(t),o)}function In(n,e){return function(t,o,r){return n(t,e,o,r)}}function En(n,e,t){t=V(t||H);var o=0,r=0,i=n.length;function a(n,e){n?t(n):++r!==i&&e!==q||t(null)}for(0===i&&t(null);o<i;o++)e(n[o],o,Fn(a))}var Tn=In(On,1/0),Bn=function(n,e,t){(U(n)?En:Tn)(n,g(e),t)};function An(n){return function(e,t,o){return n(Bn,e,g(t),o)}}function Nn(n,e,t,o){o=o||H,e=e||[];var r=[],i=0,a=g(t);n(e,function(n,e,t){var o=i++;a(n,function(n,e){r[o]=e,t(n)})},function(n){o(n,r)})}var zn=An(Nn),Yn=_(zn);function Kn(n){return function(e,t,o,r){return n(jn(t),e,g(o),r)}}var Un=Kn(Nn),qn=In(Un,1),Hn=_(qn);function Vn(n,e){for(var t=-1,o=null==n?0:n.length;++t<o&&!1!==e(n[t],t,n););return n}var Dn=function(n){return function(e,t,o){for(var r=-1,i=Object(e),a=o(e),c=a.length;c--;){var s=a[n?c:++r];if(!1===t(i[s],s,i))break}return e}}();function Wn(n,e){return n&&Dn(n,e,Pn)}function Zn(n,e,t,o){for(var r=n.length,i=t+(o?1:-1);o?i--:++i<r;)if(e(n[i],i,n))return i;return-1}function Gn(n){return n!=n}function Jn(n,e,t){for(var o=t-1,r=n.length;++o<r;)if(n[o]===e)return o;return-1}function Qn(n,e,t){return e==e?Jn(n,e,t):Zn(n,Gn,t)}var Xn=function(n,e,t){"function"==typeof e&&(t=e,e=null),t=V(t||H);var o=Pn(n).length;if(!o)return t(null);e||(e=o);var i={},a=0,c=!1,s=Object.create(null),u=[],l=[],f={};function h(n,e){u.push(function(){y(n,e)})}function d(){if(0===u.length&&0===a)return t(null,i);for(;u.length&&a<e;){u.shift()()}}function p(n,e){var t=s[n];t||(t=s[n]=[]),t.push(e)}function m(n){Vn(s[n]||[],function(n){n()}),d()}function y(n,e){if(!c){var o=Fn(function(e,o){if(a--,arguments.length>2&&(o=r(arguments,1)),e){var u={};Wn(i,function(n,e){u[e]=n}),u[n]=o,c=!0,s=Object.create(null),t(e,u)}else i[n]=o,m(n)});a++;var u=g(e[e.length-1]);e.length>1?u(i,o):u(o)}}function v(e){var t=[];return Wn(n,function(n,o){tn(n)&&Qn(n,e,0)>=0&&t.push(o)}),t}Wn(n,function(e,t){if(!tn(e))return h(t,[e]),void l.push(t);var o=e.slice(0,e.length-1),r=o.length;if(0===r)return h(t,e),void l.push(t);f[t]=r,Vn(o,function(i){if(!n[i])throw new Error("async.auto task `"+t+"` has a non-existent dependency `"+i+"` in "+o.join(", "));p(i,function(){0===--r&&h(t,e)})})}),function(){var n,e=0;for(;l.length;)n=l.pop(),e++,Vn(v(n),function(n){0==--f[n]&&l.push(n)});if(e!==o)throw new Error("async.auto cannot execute tasks due to a recursive dependency")}(),d()};function $n(n,e){for(var t=-1,o=null==n?0:n.length,r=Array(o);++t<o;)r[t]=e(n[t],t,n);return r}var ne="[object Symbol]";function ee(n){return"symbol"==typeof n||G(n)&&E(n)==ne}var te=1/0,oe=C?C.prototype:void 0,re=oe?oe.toString:void 0;function ie(n){if("string"==typeof n)return n;if(tn(n))return $n(n,ie)+"";if(ee(n))return re?re.call(n):"";var e=n+"";return"0"==e&&1/n==-te?"-0":e}function ae(n,e,t){var o=-1,r=n.length;e<0&&(e=-e>r?0:r+e),(t=t>r?r:t)<0&&(t+=r),r=e>t?0:t-e>>>0,e>>>=0;for(var i=Array(r);++o<r;)i[o]=n[o+e];return i}function ce(n,e,t){var o=n.length;return t=void 0===t?o:t,!e&&t>=o?n:ae(n,e,t)}function se(n,e){for(var t=n.length;t--&&Qn(e,n[t],0)>-1;);return t}function ue(n,e){for(var t=-1,o=n.length;++t<o&&Qn(e,n[t],0)>-1;);return t}function le(n){return n.split("")}var fe=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");function he(n){return fe.test(n)}var de="[\\ud800-\\udfff]",pe="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",me="\\ud83c[\\udffb-\\udfff]",ye="[^\\ud800-\\udfff]",ve="(?:\\ud83c[\\udde6-\\uddff]){2}",ge="[\\ud800-\\udbff][\\udc00-\\udfff]",_e="(?:"+pe+"|"+me+")"+"?",be="[\\ufe0e\\ufe0f]?"+_e+("(?:\\u200d(?:"+[ye,ve,ge].join("|")+")[\\ufe0e\\ufe0f]?"+_e+")*"),Se="(?:"+[ye+pe+"?",pe,ve,ge,de].join("|")+")",ke=RegExp(me+"(?="+me+")|"+Se+be,"g");function Ce(n){return n.match(ke)||[]}function xe(n){return he(n)?Ce(n):le(n)}function Pe(n){return null==n?"":ie(n)}var Le=/^\s+|\s+$/g;function Re(n,e,t){if((n=Pe(n))&&(t||void 0===e))return n.replace(Le,"");if(!n||!(e=ie(e)))return n;var o=xe(n),r=xe(e);return ce(o,ue(o,r),se(o,r)+1).join("")}var Me=/^(?:async\s+)?(function)?\s*[^\(]*\(\s*([^\)]*)\)/m,we=/,/,Fe=/(=.+)?(\s*)$/,je=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/gm;function Oe(n){return n=(n=(n=(n=n.toString().replace(je,"")).match(Me)[2].replace(" ",""))?n.split(we):[]).map(function(n){return Re(n.replace(Fe,""))})}function Ie(n,e){var t={};Wn(n,function(n,e){var o,r=v(n),i=!r&&1===n.length||r&&0===n.length;if(tn(n))o=n.slice(0,-1),n=n[n.length-1],t[e]=o.concat(o.length>0?a:n);else if(i)t[e]=n;else{if(o=Oe(n),0===n.length&&!r&&0===o.length)throw new Error("autoInject task functions require explicit parameters.");r||o.pop(),t[e]=o.concat(a)}function a(e,t){var r=$n(o,function(n){return e[n]});r.push(t),g(n).apply(null,r)}}),Xn(t,e)}function Ee(){this.head=this.tail=null,this.length=0}function Te(n,e){n.length=1,n.head=n.tail=e}function Be(n,e,t){if(null==e)e=1;else if(0===e)throw new Error("Concurrency must not be zero");var o=g(n),r=0,i=[],a=!1;function c(n,e,t){if(null!=t&&"function"!=typeof t)throw new Error("task callback must be a function");if(l.started=!0,tn(n)||(n=[n]),0===n.length&&l.idle())return h(function(){l.drain()});for(var o=0,r=n.length;o<r;o++){var i={data:n[o],callback:t||H};e?l._tasks.unshift(i):l._tasks.push(i)}a||(a=!0,h(function(){a=!1,l.process()}))}function s(n){return function(e){r-=1;for(var t=0,o=n.length;t<o;t++){var a=n[t],c=Qn(i,a,0);0===c?i.shift():c>0&&i.splice(c,1),a.callback.apply(a,arguments),null!=e&&l.error(e,a.data)}r<=l.concurrency-l.buffer&&l.unsaturated(),l.idle()&&l.drain(),l.process()}}var u=!1,l={_tasks:new Ee,concurrency:e,payload:t,saturated:H,unsaturated:H,buffer:e/4,empty:H,drain:H,error:H,started:!1,paused:!1,push:function(n,e){c(n,!1,e)},kill:function(){l.drain=H,l._tasks.empty()},unshift:function(n,e){c(n,!0,e)},remove:function(n){l._tasks.remove(n)},process:function(){if(!u){for(u=!0;!l.paused&&r<l.concurrency&&l._tasks.length;){var n=[],e=[],t=l._tasks.length;l.payload&&(t=Math.min(t,l.payload));for(var a=0;a<t;a++){var c=l._tasks.shift();n.push(c),i.push(c),e.push(c.data)}r+=1,0===l._tasks.length&&l.empty(),r===l.concurrency&&l.saturated();var f=Fn(s(n));o(e,f)}u=!1}},length:function(){return l._tasks.length},running:function(){return r},workersList:function(){return i},idle:function(){return l._tasks.length+r===0},pause:function(){l.paused=!0},resume:function(){!1!==l.paused&&(l.paused=!1,h(l.process))}};return l}function Ae(n,e){return Be(n,1,e)}Ee.prototype.removeLink=function(n){return n.prev?n.prev.next=n.next:this.head=n.next,n.next?n.next.prev=n.prev:this.tail=n.prev,n.prev=n.next=null,this.length-=1,n},Ee.prototype.empty=function(){for(;this.head;)this.shift();return this},Ee.prototype.insertAfter=function(n,e){e.prev=n,e.next=n.next,n.next?n.next.prev=e:this.tail=e,n.next=e,this.length+=1},Ee.prototype.insertBefore=function(n,e){e.prev=n.prev,e.next=n,n.prev?n.prev.next=e:this.head=e,n.prev=e,this.length+=1},Ee.prototype.unshift=function(n){this.head?this.insertBefore(this.head,n):Te(this,n)},Ee.prototype.push=function(n){this.tail?this.insertAfter(this.tail,n):Te(this,n)},Ee.prototype.shift=function(){return this.head&&this.removeLink(this.head)},Ee.prototype.pop=function(){return this.tail&&this.removeLink(this.tail)},Ee.prototype.toArray=function(){for(var n=Array(this.length),e=this.head,t=0;t<this.length;t++)n[t]=e.data,e=e.next;return n},Ee.prototype.remove=function(n){for(var e=this.head;e;){var t=e.next;n(e)&&this.removeLink(e),e=t}return this};var Ne=In(On,1);function ze(n,e,t,o){o=V(o||H);var r=g(t);Ne(n,function(n,t,o){r(e,n,function(n,t){e=t,o(n)})},function(n){o(n,e)})}function Ye(){var n=$n(arguments,g);return function(){var e=r(arguments),t=this,o=e[e.length-1];"function"==typeof o?e.pop():o=H,ze(n,e,function(n,e,o){e.apply(t,n.concat(function(n){var e=r(arguments,1);o(n,e)}))},function(n,e){o.apply(t,[n].concat(e))})}}var Ke=function(){return Ye.apply(null,r(arguments).reverse())},Ue=Array.prototype.concat,qe=function(n,e,t,o){o=o||H;var i=g(t);Un(n,e,function(n,e){i(n,function(n){return n?e(n):e(null,r(arguments,1))})},function(n,e){for(var t=[],r=0;r<e.length;r++)e[r]&&(t=Ue.apply(t,e[r]));return o(n,t)})},He=In(qe,1/0),Ve=In(qe,1),De=function(){var n=r(arguments),e=[null].concat(n);return function(){return arguments[arguments.length-1].apply(this,e)}};function We(n){return n}function Ze(n,e){return function(t,o,r,i){i=i||H;var a,c=!1;t(o,function(t,o,i){r(t,function(o,r){o?i(o):n(r)&&!a?(c=!0,a=e(!0,t),i(null,q)):i()})},function(n){n?i(n):i(null,c?a:e(!1))})}}function Ge(n,e){return e}var Je=An(Ze(We,Ge)),Qe=Kn(Ze(We,Ge)),Xe=In(Qe,1);function $e(n){return function(e){var t=r(arguments,1);t.push(function(e){var t=r(arguments,1);"object"==typeof console&&(e?console.error&&console.error(e):console[n]&&Vn(t,function(e){console[n](e)}))}),g(e).apply(null,t)}}var nt=$e("dir");function et(n,e,t){t=Fn(t||H);var o=g(n),i=g(e);function a(n){if(n)return t(n);var e=r(arguments,1);e.push(c),i.apply(this,e)}function c(n,e){return n?t(n):e?void o(a):t(null)}c(null,!0)}function tt(n,e,t){t=Fn(t||H);var o=g(n);o(function n(i){if(i)return t(i);var a=r(arguments,1);if(e.apply(this,a))return o(n);t.apply(null,[null].concat(a))})}function ot(n,e,t){tt(n,function(){return!e.apply(this,arguments)},t)}function rt(n,e,t){t=Fn(t||H);var o=g(e),r=g(n);function i(n){if(n)return t(n);r(a)}function a(n,e){return n?t(n):e?void o(i):t(null)}r(a)}function it(n){return function(e,t,o){return n(e,o)}}function at(n,e,t){Bn(n,it(g(e)),t)}function ct(n,e,t,o){jn(e)(n,it(g(t)),o)}var st=In(ct,1);function ut(n){return v(n)?n:a(function(e,t){var o=!0;e.push(function(){var n=arguments;o?h(function(){t.apply(null,n)}):t.apply(null,n)}),n.apply(this,e),o=!1})}function lt(n){return!n}var ft=An(Ze(lt,lt)),ht=Kn(Ze(lt,lt)),dt=In(ht,1);function pt(n){return function(e){return null==e?void 0:e[n]}}function mt(n,e,t,o){var r=new Array(e.length);n(e,function(n,e,o){t(n,function(n,t){r[e]=!!t,o(n)})},function(n){if(n)return o(n);for(var t=[],i=0;i<e.length;i++)r[i]&&t.push(e[i]);o(null,t)})}function yt(n,e,t,o){var r=[];n(e,function(n,e,o){t(n,function(t,i){t?o(t):(i&&r.push({index:e,value:n}),o())})},function(n){n?o(n):o(null,$n(r.sort(function(n,e){return n.index-e.index}),pt("value")))})}function vt(n,e,t,o){(U(e)?mt:yt)(n,e,g(t),o||H)}var gt=An(vt),_t=Kn(vt),bt=In(_t,1);function St(n,e){var t=Fn(e||H),o=g(ut(n));(function n(e){if(e)return t(e);o(n)})()}var kt=function(n,e,t,o){o=o||H;var r=g(t);Un(n,e,function(n,e){r(n,function(t,o){return t?e(t):e(null,{key:o,val:n})})},function(n,e){for(var t={},r=Object.prototype.hasOwnProperty,i=0;i<e.length;i++)if(e[i]){var a=e[i].key,c=e[i].val;r.call(t,a)?t[a].push(c):t[a]=[c]}return o(n,t)})},Ct=In(kt,1/0),xt=In(kt,1),Pt=$e("log");function Lt(n,e,t,o){o=V(o||H);var r={},i=g(t);On(n,e,function(n,e,t){i(n,e,function(n,o){if(n)return t(n);r[e]=o,t()})},function(n){o(n,r)})}var Rt=In(Lt,1/0),Mt=In(Lt,1);function wt(n,e){return e in n}function Ft(n,e){var t=Object.create(null),o=Object.create(null);e=e||We;var i=g(n),c=a(function(n,a){var c=e.apply(null,n);wt(t,c)?h(function(){a.apply(null,t[c])}):wt(o,c)?o[c].push(a):(o[c]=[a],i.apply(null,n.concat(function(){var n=r(arguments);t[c]=n;var e=o[c];delete o[c];for(var i=0,a=e.length;i<a;i++)e[i].apply(null,n)})))});return c.memo=t,c.unmemoized=n,c}var jt=f(u?n.nextTick:s?setImmediate:l);function Ot(n,e,t){t=t||H;var o=U(e)?[]:{};n(e,function(n,e,t){g(n)(function(n,i){arguments.length>2&&(i=r(arguments,1)),o[e]=i,t(n)})},function(n){t(n,o)})}function It(n,e){Ot(Bn,n,e)}function Et(n,e,t){Ot(jn(e),n,t)}var Tt=function(n,e){var t=g(n);return Be(function(n,e){t(n[0],e)},e,1)},Bt=function(n,e){var t=Tt(n,e);return t.push=function(n,e,o){if(null==o&&(o=H),"function"!=typeof o)throw new Error("task callback must be a function");if(t.started=!0,tn(n)||(n=[n]),0===n.length)return h(function(){t.drain()});e=e||0;for(var r=t._tasks.head;r&&e>=r.priority;)r=r.next;for(var i=0,a=n.length;i<a;i++){var c={data:n[i],priority:e,callback:o};r?t._tasks.insertBefore(r,c):t._tasks.push(c)}h(t.process)},delete t.unshift,t};function At(n,e){if(e=V(e||H),!tn(n))return e(new TypeError("First argument to race must be an array of functions"));if(!n.length)return e();for(var t=0,o=n.length;t<o;t++)g(n[t])(e)}function Nt(n,e,t,o){ze(r(n).reverse(),e,t,o)}function zt(n){var e=g(n);return a(function(n,t){return n.push(function(n,e){var o;n?t(null,{error:n}):(o=arguments.length<=2?e:r(arguments,1),t(null,{value:o}))}),e.apply(this,n)})}function Yt(n){var e;return tn(n)?e=$n(n,zt):(e={},Wn(n,function(n,t){e[t]=zt.call(this,n)})),e}function Kt(n,e,t,o){vt(n,e,function(n,e){t(n,function(n,t){e(n,!t)})},o)}var Ut=An(Kt),qt=Kn(Kt),Ht=In(qt,1);function Vt(n){return function(){return n}}function Dt(n,e,t){var o=5,r=0,i={times:o,intervalFunc:Vt(r)};if(arguments.length<3&&"function"==typeof n?(t=e||H,e=n):(function(n,e){if("object"==typeof e)n.times=+e.times||o,n.intervalFunc="function"==typeof e.interval?e.interval:Vt(+e.interval||r),n.errorFilter=e.errorFilter;else{if("number"!=typeof e&&"string"!=typeof e)throw new Error("Invalid arguments for async.retry");n.times=+e||o}}(i,n),t=t||H),"function"!=typeof e)throw new Error("Invalid arguments for async.retry");var a=g(e),c=1;(function n(){a(function(e){e&&c++<i.times&&("function"!=typeof i.errorFilter||i.errorFilter(e))?setTimeout(n,i.intervalFunc(c)):t.apply(null,arguments)})})()}var Wt=function(n,e){e||(e=n,n=null);var t=g(e);return a(function(e,o){function r(n){t.apply(null,e.concat(n))}n?Dt(n,r,o):Dt(r,o)})};function Zt(n,e){Ot(Ne,n,e)}var Gt=An(Ze(Boolean,We)),Jt=Kn(Ze(Boolean,We)),Qt=In(Jt,1);function Xt(n,e,t){var o=g(e);function r(n,e){var t=n.criteria,o=e.criteria;return t<o?-1:t>o?1:0}zn(n,function(n,e){o(n,function(t,o){if(t)return e(t);e(null,{value:n,criteria:o})})},function(n,e){if(n)return t(n);t(null,$n(e.sort(r),pt("value")))})}function $t(n,e,t){var o=g(n);return a(function(r,i){var a,c=!1;r.push(function(){c||(i.apply(null,arguments),clearTimeout(a))}),a=setTimeout(function(){var e=n.name||"anonymous",o=new Error('Callback function "'+e+'" timed out.');o.code="ETIMEDOUT",t&&(o.info=t),c=!0,i(o)},e),o.apply(null,r)})}var no=Math.ceil,eo=Math.max;function to(n,e,t,o){for(var r=-1,i=eo(no((e-n)/(t||1)),0),a=Array(i);i--;)a[o?i:++r]=n,n+=t;return a}function oo(n,e,t,o){var r=g(t);Un(to(0,n,1),e,r,o)}var ro=In(oo,1/0),io=In(oo,1);function ao(n,e,t,o){arguments.length<=3&&(o=t,t=e,e=tn(n)?[]:{}),o=V(o||H);var r=g(t);Bn(n,function(n,t,o){r(e,n,t,o)},function(n){o(n,e)})}function co(n,e){var t,o=null;e=e||H,st(n,function(n,e){g(n)(function(n,i){t=arguments.length>2?r(arguments,1):i,o=n,e(!n)})},function(){e(o,t)})}function so(n){return function(){return(n.unmemoized||n).apply(null,arguments)}}function uo(n,e,t){t=Fn(t||H);var o=g(e);if(!n())return t(null);o(function e(i){if(i)return t(i);if(n())return o(e);var a=r(arguments,1);t.apply(null,[null].concat(a))})}function lo(n,e,t){uo(function(){return!n.apply(this,arguments)},e,t)}var fo=function(n,e){if(e=V(e||H),!tn(n))return e(new Error("First argument to waterfall must be an array of functions"));if(!n.length)return e();var t=0;function o(e){var o=g(n[t++]);e.push(Fn(i)),o.apply(null,e)}function i(i){if(i||t===n.length)return e.apply(null,arguments);o(r(arguments,1))}o([])},ho={apply:i,applyEach:Yn,applyEachSeries:Hn,asyncify:d,auto:Xn,autoInject:Ie,cargo:Ae,compose:Ke,concat:He,concatLimit:qe,concatSeries:Ve,constant:De,detect:Je,detectLimit:Qe,detectSeries:Xe,dir:nt,doDuring:et,doUntil:ot,doWhilst:tt,during:rt,each:at,eachLimit:ct,eachOf:Bn,eachOfLimit:On,eachOfSeries:Ne,eachSeries:st,ensureAsync:ut,every:ft,everyLimit:ht,everySeries:dt,filter:gt,filterLimit:_t,filterSeries:bt,forever:St,groupBy:Ct,groupByLimit:kt,groupBySeries:xt,log:Pt,map:zn,mapLimit:Un,mapSeries:qn,mapValues:Rt,mapValuesLimit:Lt,mapValuesSeries:Mt,memoize:Ft,nextTick:jt,parallel:It,parallelLimit:Et,priorityQueue:Bt,queue:Tt,race:At,reduce:ze,reduceRight:Nt,reflect:zt,reflectAll:Yt,reject:Ut,rejectLimit:qt,rejectSeries:Ht,retry:Dt,retryable:Wt,seq:Ye,series:Zt,setImmediate:h,some:Gt,someLimit:Jt,someSeries:Qt,sortBy:Xt,timeout:$t,times:ro,timesLimit:oo,timesSeries:io,transform:ao,tryEach:co,unmemoize:so,until:lo,waterfall:fo,whilst:uo,all:ft,allLimit:ht,allSeries:dt,any:Gt,anyLimit:Jt,anySeries:Qt,find:Je,findLimit:Qe,findSeries:Xe,forEach:at,forEachSeries:st,forEachLimit:ct,forEachOf:Bn,forEachOfSeries:Ne,forEachOfLimit:On,inject:ze,foldl:ze,foldr:Nt,select:gt,selectLimit:_t,selectSeries:bt,wrapSync:d};t.accAdd=function(n,e){var t,o,r;try{t=n.toString().split(".")[1].length}catch(n){t=0}try{o=e.toString().split(".")[1].length}catch(n){o=0}return((n*(r=Math.pow(100,Math.max(t,o)))+e*r)/r).toFixed(2)},t.Subtr=function(n,e){var t,o,r;try{t=n.toString().split(".")[1].length}catch(n){t=0}try{o=e.toString().split(".")[1].length}catch(n){o=0}return r=Math.pow(100,Math.max(t,o)),((n*r-e*r)/r).toFixed(2)},t.accMul=function(n,e){var t=0,o=n.toString(),r=e.toString();try{t+=o.split(".")[1].length}catch(n){}try{t+=r.split(".")[1].length}catch(n){}return Number(o.replace(".",""))*Number(r.replace(".",""))/Math.pow(100,t)},t.myrange=function(n,e){return new Array(e-n).fill(n).map(function(e,t){return n+t})},t.default=ho,t.apply=i,t.applyEach=Yn,t.applyEachSeries=Hn,t.asyncify=d,t.auto=Xn,t.autoInject=Ie,t.cargo=Ae,t.compose=Ke,t.concat=He,t.concatLimit=qe,t.concatSeries=Ve,t.constant=De,t.detect=Je,t.detectLimit=Qe,t.detectSeries=Xe,t.dir=nt,t.doDuring=et,t.doUntil=ot,t.doWhilst=tt,t.during=rt,t.each=at,t.eachLimit=ct,t.eachOf=Bn,t.eachOfLimit=On,t.eachOfSeries=Ne,t.eachSeries=st,t.ensureAsync=ut,t.every=ft,t.everyLimit=ht,t.everySeries=dt,t.filter=gt,t.filterLimit=_t,t.filterSeries=bt,t.forever=St,t.groupBy=Ct,t.groupByLimit=kt,t.groupBySeries=xt,t.log=Pt,t.map=zn,t.mapLimit=Un,t.mapSeries=qn,t.mapValues=Rt,t.mapValuesLimit=Lt,t.mapValuesSeries=Mt,t.memoize=Ft,t.nextTick=jt,t.parallel=It,t.parallelLimit=Et,t.priorityQueue=Bt,t.queue=Tt,t.race=At,t.reduce=ze,t.reduceRight=Nt,t.reflect=zt,t.reflectAll=Yt,t.reject=Ut,t.rejectLimit=qt,t.rejectSeries=Ht,t.retry=Dt,t.retryable=Wt,t.seq=Ye,t.series=Zt,t.setImmediate=h,t.some=Gt,t.someLimit=Jt,t.someSeries=Qt,t.sortBy=Xt,t.timeout=$t,t.times=ro,t.timesLimit=oo,t.timesSeries=io,t.transform=ao,t.tryEach=co,t.unmemoize=so,t.until=lo,t.waterfall=fo,t.whilst=uo,t.all=ft,t.allLimit=ht,t.allSeries=dt,t.any=Gt,t.anyLimit=Jt,t.anySeries=Qt,t.find=Je,t.findLimit=Qe,t.findSeries=Xe,t.forEach=at,t.forEachSeries=st,t.forEachLimit=ct,t.forEachOf=Bn,t.forEachOfSeries=Ne,t.forEachOfLimit=On,t.inject=ze,t.foldl=ze,t.foldr=Nt,t.select=gt,t.selectLimit=_t,t.selectSeries=bt,t.wrapSync=d,Object.defineProperty(t,"__esModule",{value:!0})}),cc._RF.pop()}).call(this,n("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{_process:1}],enable_phy:[function(n,e,t){"use strict";cc._RF.push(e,"60b26PYZtFGd7vMev5B8A5R","enable_phy"),cc.Class({extends:cc.Component,properties:{gravity:cc.v2(0,-320),is_debug:!0},onLoad:function(){if(cc.director.getPhysicsManager().enabled=!0,cc.director.getPhysicsManager().gravity=this.gravity,this.is_debug){var n=cc.PhysicsManager.DrawBits;cc.director.getPhysicsManager().debugDrawFlags=n.e_aabbBit|n.e_centerOfMassBit|n.e_jointBit|n.e_shapeBit}else cc.director.getPhysicsManager().debugDrawFlags=0},start:function(){}}),cc._RF.pop()},{}],food:[function(n,e,t){"use strict";cc._RF.push(e,"749c0ekpLlCC52xyltu5AHB","food");n("./async");cc.Class({extends:cc.Component,properties:{sprite:{default:null,type:cc.SpriteFrame}},reuse:function(n){n||(console.log("hello"),setTimeout(function(){this.node.destroy()}.bind(self),200))},onCollisionEnter:function(n,e){var t=n.node.parent.convertToWorldSpaceAR(n.node.getPosition()),o=e.node.getPosition(),r=Math.abs(t.x-o.x),i=Math.abs(t.y-o.y);cc.log("result:"+r+":"+i),console.log("=====================================");var a=n.node.parent.name,c=n.node.parent.childrenCount,s=n.node.parent.children[c-1],u=n.node.parent.children[0],l="",f="";if("sanke_play"==a&&"sanke_play_head"==s.name)l=n.node.parent.parent.children[0].children[1].getComponent("Main"),f=n.node.parent.getComponent("sanke_play");else{if("head"!=s.name.substring(11))return!1;l=n.node.parent.parent.parent.children[0].children[1].getComponent("Main"),f=n.node.parent.getComponent("sanke_ai")}if(e.node.active=!1,l._myFoodPool.put(e.node),f._m_food_num+=1,f._m_food_num%5==0&&0!=f._m_food_num){var h="";if(l._mSnakeChildrenPool.size()>0){(h=l._mSnakeChildrenPool.get()).name=a+c,h.active=!0,h.group="food";for(var d=f.BLOCK_LEN/f.speed,p=0;p<d;)f.pos_set.unshift(cc.v3(u.x,u.y,u.z)),p+=f.m_time_cell;var m=Math.floor(f.BLOCK_LEN/(f.speed*f.m_time_cell));h.setPosition(cc.v2(f.pos_set[m].x,f.pos_set[m].y)),h.angle=f.pos_set[m].z,h.cur_index=m,h.zIndex=-1,h.parent=n.node.parent}}},onCollisionStay:function(n,e){},onCollisionExit:function(n,e){},onLoad:function(){cc.director.getCollisionManager().enabled=!0,cc.director.getPhysicsManager().enabled=!0},start:function(){}}),cc._RF.pop()},{"./async":"async"}],mapCollider:[function(n,e,t){"use strict";cc._RF.push(e,"6b6b7DPaIFK0I4K8QRwnu9V","mapCollider");n("./async");cc.Class({extends:cc.Component,properties:{mPrefab:{type:cc.Prefab,default:null}},reuse:function(n){console.log(n)},onCollisionEnter:function(n,e){if("sanke_play"==n.node.parent.name&&"sanke_play_head"==n.node.name)n.node.parent.getComponent("sanke_play").gameOver=!0;else if("head"==n.node.name.substring(11)){for(var t=n.node.parent.getComponent("sanke_ai"),o=t.pos_set,r=n.node.parent.childrenCount,i=n.node.parent.parent.parent.children[0].children[1].getComponent("Main"),a=t.point_num,c=0;c<r;c++){var s=null;i._myFoodPool.size()>0&&c%2==0&&((s=i._myFoodPool.get(i._myFoodPool)).color=new cc.Color(i.getRndInteger(0,255),i.getRndInteger(0,255),i.getRndInteger(0,255)),s.active=!0,s.x=o[c*a].x+480+i.getRndInteger(-5,5),s.y=o[c*a].y+320+i.getRndInteger(-5,5),s.parent=n.node.parent.parent.parent.children[1])}t.node.x=480,t.node.y=320;for(var u=Math.floor(4e3*Math.random())+-2e3,l=Math.floor(4e3*Math.random())+-2e3,f=0;f<t.node.childrenCount;f++)t.node.children[f].setPosition(cc.v2(u,l));for(var h=0;h<t.pos_set.length;h++)t.pos_set[h]=cc.v3(u,l,0)}},onLoad:function(){cc.director.getCollisionManager().enabled=!0,cc.director.getPhysicsManager().enabled=!0},start:function(){}}),cc._RF.pop()},{"./async":"async"}],sanke_ai:[function(n,e,t){"use strict";cc._RF.push(e,"6686eQdYOxFaoAx8miEH4bf","sanke_ai");cc.Class({extends:cc.Component,properties:{time_01:0,BLOCK_LEN:32,speed:200,speed_time:.032,m_time_cell:0,_m_food_num:0,_m_random_time:0,mSnakeStart:1,gameOver:!0,mRandomPos:cc.v2(0,0)},capture_points:function(n){var e=(this.node.childrenCount-1)*this.BLOCK_LEN,t=n.x,o=n.y,r=n.z,i=e/this.speed;this.pos_set=[],this.pos_set.push(cc.v3(t,o,r));for(var a=0;a<i;)o+=this.speed*this.m_time_cell,this.pos_set.push(cc.v3(t,o,r)),a+=this.m_time_cell;var c=this.node.children[this.node.childrenCount-1];c.zIndex=100,c.setPosition(cc.v2(this.pos_set[this.pos_set.length-1].x,this.pos_set[this.pos_set.length-1].y)),c.angle=this.pos_set[this.pos_set.length-1].z,this.point_num=Math.floor(this.BLOCK_LEN/(this.speed*this.m_time_cell));for(var s=this.node.childrenCount-2;s>=0;s--){var u=this.node.children[s],l=this.point_num*s;u.setPosition(cc.v2(this.pos_set[l].x,this.pos_set[l].y)),u.angle=this.pos_set[l].z,u.cur_index=l}},getRndInteger:function(n,e){return Math.floor(Math.random()*(e-n))+n},onLoad:function(){this.node.group="default",this.node.children[0].color,this.m_time_cell=.02,this.mRandomPos.x=(Math.floor(20*Math.random())+-10)/10,this.mRandomPos.y=(Math.floor(20*Math.random())+-10)/10},start:function(){var n=this.node.children[this.node.childrenCount-1],e=cc.v3(n.x,n.y,0);this.capture_points(e),null!=this.mYg&&(this.mYg=this.mYg.getComponent("yg"))},moveSanke:function(n){var e=this.node.children[this.node.childrenCount-1],t=e.getPosition();(t.x<=-2400||t.x>=2400)&&(this.mRandomPos.x=0-this.mRandomPos.x),(t.y<=-2400||t.y>=2400)&&(this.mRandomPos.y=0-this.mRandomPos.y);var o=this.speed*this.m_time_cell,r=Math.atan2(this.mRandomPos.y,this.mRandomPos.x),i=o*Math.cos(r),a=o*Math.sin(r);t.x+=i,t.y+=a,e.setPosition(cc.v2(t.x,t.y));this.node.convertToWorldSpaceAR(cc.v2(e.x,e.y));var c=180*r/Math.PI;e.angle=c-90,t.z=c-90,this.pos_set.push(t),this.point_num=Math.floor(this.BLOCK_LEN/(this.speed*this.m_time_cell));for(var s=this.node.childrenCount-2;s>=0;s--){var u=this.node.children[s],l=this.point_num*s;u.setPosition(cc.v2(this.pos_set[l].x,this.pos_set[l].y)),u.angle=this.pos_set[l].z,u.cur_index=l,0==s&&this.pos_set.shift()}}}),cc._RF.pop()},{}],sanke_btn:[function(n,e,t){"use strict";cc._RF.push(e,"b58d2AcCBVPg4P3iV4OucZ2","sanke_btn"),cc.Class({extends:cc.Component,properties:{m_sanke:{default:null,type:cc.Node}},onStartBtn:function(n){this.m_sanke.speed_time=1},onUpBtn:function(n){this.m_sanke.speed_time=2},onLoad:function(){this.node.on(cc.Node.EventType.TOUCH_START,this.onStartBtn,this),this.node.on(cc.Node.EventType.TOUCH_END,this.onUpBtn,this)},start:function(){this.m_sanke=this.m_sanke.getComponent("sanke_play")}}),cc._RF.pop()},{}],sanke_children:[function(n,e,t){"use strict";cc._RF.push(e,"2b080u1t95MHrbzEK1Kv7N8","sanke_children"),cc.Class({extends:cc.Component,properties:{},onCollisionEnter:function(n,e){if(n.node.name.substring(0,10)===e.node.name.substring(0,10)||"food"==n.node.name)return!1;if("sanke_play_head"==n.node.name)return n.node.parent.getComponent("sanke_play").gameOver=!0,!1;if("head"==n.node.name.substring(11)&&"sanke_play"!=e.node.name.substring(0,10)){for(var t=(m=n.node.parent.getComponent("sanke_ai")).pos_set,o=n.node.parent.childrenCount,r=n.node.parent.parent.parent.children[0].children[1].getComponent("Main"),i=m.point_num,a=0;a<o;a++){var c=null;r._myFoodPool.size()>0&&a%2==0&&((c=r._myFoodPool.get(r._myFoodPool)).color=new cc.Color(r.getRndInteger(0,255),r.getRndInteger(0,255),r.getRndInteger(0,255)),c.active=!0,c.x=t[a*i].x+480+r.getRndInteger(-5,5),c.y=t[a*i].y+320+r.getRndInteger(-5,5),c.parent=n.node.parent.parent.parent.children[1])}m.node.x=480,m.node.y=320;for(var s=Math.floor(4e3*Math.random())+-2e3,u=Math.floor(4e3*Math.random())+-2e3,l=0;l<m.node.childrenCount;l++)m.node.children[l].setPosition(cc.v2(s,u));for(var f=0;f<m.pos_set.length;f++)m.pos_set[f]=cc.v3(s,u,0);return!1}if("head"==n.node.name.substring(11)&&"sanke_play"==e.node.name.substring(0,10)){t=(m=n.node.parent.getComponent("sanke_ai")).pos_set,o=n.node.parent.childrenCount,r=n.node.parent.parent.parent.children[0].children[1].getComponent("Main"),i=m.point_num;for(var h=0;h<o;h++){c=null;r._myFoodPool.size()>0&&h%2==0&&((c=r._myFoodPool.get(r._myFoodPool)).color=new cc.Color(r.getRndInteger(0,255),r.getRndInteger(0,255),r.getRndInteger(0,255)),c.active=!0,c.x=t[h*i].x+480+r.getRndInteger(-5,5),c.y=t[h*i].y+320+r.getRndInteger(-5,5),c.parent=n.node.parent.parent.parent.children[1])}m.node.x=480,m.node.y=320;s=Math.floor(4e3*Math.random())+-2e3,u=Math.floor(4e3*Math.random())+-2e3;for(var d=0;d<m.node.childrenCount;d++)m.node.children[d].setPosition(cc.v2(s,u));for(var p=0;p<m.pos_set.length;p++)m.pos_set[p]=cc.v3(s,u,0);return!1}if("head"==n.node.name.substring(11)&&"sanke_play_head"==e.node.name){t=(m=n.node.parent.getComponent("sanke_ai")).pos_set,o=n.node.parent.childrenCount,r=n.node.parent.parent.parent.children[0].children[1].getComponent("Main"),i=m.point_num;for(var m,y=0;y<o;y++){c=null;r._myFoodPool.size()>0&&y%2==0&&((c=r._myFoodPool.get(r._myFoodPool)).color=new cc.Color(r.getRndInteger(0,255),r.getRndInteger(0,255),r.getRndInteger(0,255)),c.active=!0,c.x=t[y*i].x+480+r.getRndInteger(-15,15),c.y=t[y*i].y+320+r.getRndInteger(-15,15),c.parent=n.node.parent.parent.parent.children[1])}m.node.x=480,m.node.y=320;s=Math.floor(4e3*Math.random())+-2e3,u=Math.floor(4e3*Math.random())+-2e3;for(var v=0;v<m.node.childrenCount;v++)m.node.children[v].setPosition(cc.v2(s,u));for(var g=0;g<m.pos_set.length;g++)m.pos_set[g]=cc.v3(s,u,0);return!1}},onLoad:function(){cc.director.getCollisionManager().enabled=!0,cc.director.getPhysicsManager().enabled=!0},start:function(){}}),cc._RF.pop()},{}],sanke_play:[function(n,e,t){"use strict";cc._RF.push(e,"2b7b8YLqLtNFIqbWRPY11Nm","sanke_play");cc.Class({extends:cc.Component,properties:{mYg:{default:null,type:cc.Node},time_01:0,BLOCK_LEN:20,speed:200,mCamera:{type:cc.Camera,default:null},speed_time:.01,m_time_cell:0,_m_food_num:0,mSnakeScale:1,mCZoomRatio:1,gameOver:!1},onXXX:function(){var n=(this.node.childrenCount-1)*this.BLOCK_LEN,e=this.node.children[this.node.childrenCount-1],t=e.x,o=e.y,r=e.z,i=n/this.speed;this.pos_set=[],this.pos_set.push(cc.v3(t,o,r));for(var a=0;a<i;)o+=this.speed*this.m_time_cell,this.pos_set.push(cc.v3(t,o,r)),a+=this.m_time_cell},capture_points:function(){var n,e=(this.node.childrenCount-1)*this.BLOCK_LEN,t=(n=this.node.children[this.node.childrenCount-1]).x,o=n.y,r=n.z,i=e/this.speed;this.pos_set=[],this.pos_set.push(cc.v3(t,o,r));for(var a=0;a<i;)o+=this.speed*this.m_time_cell,this.pos_set.push(cc.v3(t,o,r)),a+=this.m_time_cell;(n=this.node.children[this.node.childrenCount-1]).zIndex=100,n.setPosition(cc.v2(this.pos_set[this.pos_set.length-1].x,this.pos_set[this.pos_set.length-1].y)),n.angle=this.pos_set[this.pos_set.length-1].z,this.point_num=Math.floor(this.BLOCK_LEN/(this.speed*this.m_time_cell));for(var c=this.node.childrenCount-2;c>=0;c--){var s=this.node.children[c],u=this.point_num*c;s.setPosition(cc.v2(this.pos_set[u].x,this.pos_set[u].y)),s.angle=this.pos_set[u].z,s.cur_index=u}},onLoad:function(){this.m_time_cell=.02,this.speed_time=2},start:function(){this.capture_points(),null!=this.mYg&&(this.mYg=this.mYg.getComponent("yg"))},moveSanke:function(n){var e=this.speed*this.m_time_cell,t=(this.mYg.dir.x,this.mYg.dir.y,Math.atan2(this.mYg.dir.y,this.mYg.dir.x)),o=e*Math.cos(t),r=e*Math.sin(t),i=this.node.children[this.node.childrenCount-1],a=i.getPosition();a.x+=o,a.y+=r,i.setPosition(cc.v2(a.x,a.y));var c=this.node.convertToWorldSpaceAR(cc.v2(i.x,i.y)),s=180*t/Math.PI;i.angle=s-90,a.z=s-90,this.pos_set.push(a),null!==this.mCamera&&(this.mCamera.node.x=c.x-480,this.mCamera.node.y=c.y-320),this.point_num=Math.floor(this.BLOCK_LEN/e);for(var u=this.node.childrenCount-2;u>=0;u--){var l=this.node.children[u],f=this.point_num*u;l.setPosition(cc.v2(this.pos_set[f].x,this.pos_set[f].y)),l.angle=this.pos_set[f].z,l.cur_index=f,0==u&&this.pos_set.shift()}}}),cc._RF.pop()},{}],yg:[function(n,e,t){"use strict";cc._RF.push(e,"08b26xJmwlBqK2ywY7TMt0F","yg"),cc.Class({extends:cc.Component,properties:{m_Max_Rlen:100,m_Min_Rlen:10,dir:cc.v2(0,0)},onTouchMove:function(n){this.node.x=0,this.node.y=0;var e=n.getLocation(),t=this.node.convertToNodeSpaceAR(e),o=t.mag();if(this.dir.x=t.x/o,this.dir.y=t.y/o,o<=this.m_Min_Rlen)return this.node.setPosition(t),!1;o>this.m_Max_Rlen&&(t.x=t.x*this.m_Max_Rlen/o,t.y=t.y*this.m_Max_Rlen/o),this.node.setPosition(t)},onTouchCancel:function(n){this.node.x=0,this.node.y=0},onLoad:function(){this.node.on(cc.Node.EventType.TOUCH_MOVE,this.onTouchMove,this),this.node.on(cc.Node.EventType.TOUCH_END,this.onTouchCancel,this),this.node.on(cc.Node.EventType.TOUCH_CANCEL,this.onTouchCancel,this)},start:function(){}}),cc._RF.pop()},{}]},{},["HelloWorld","Main","UIBtn","async","enable_phy","food","mapCollider","sanke_ai","sanke_btn","sanke_children","sanke_play","yg"]);