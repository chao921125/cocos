window.__require=function e(n,t,o){function r(a,c){if(!t[a]){if(!n[a]){var s=a.split("/");if(s=s[s.length-1],!n[s]){var u="function"==typeof __require&&__require;if(!c&&u)return u(s,!0);if(i)return i(s,!0);throw new Error("Cannot find module '"+a+"'")}a=s}var l=t[a]={exports:{}};n[a][0].call(l.exports,function(e){return r(n[a][1][e]||e)},l,l.exports,e,n,t,o)}return t[a].exports}for(var i="function"==typeof __require&&__require,a=0;a<o.length;a++)r(o[a]);return r}({1:[function(e,n,t){var o,r,i=n.exports={};function a(){throw new Error("setTimeout has not been defined")}function c(){throw new Error("clearTimeout has not been defined")}function s(e){if(o===setTimeout)return setTimeout(e,0);if((o===a||!o)&&setTimeout)return o=setTimeout,setTimeout(e,0);try{return o(e,0)}catch(n){try{return o.call(null,e,0)}catch(n){return o.call(this,e,0)}}}function u(e){if(r===clearTimeout)return clearTimeout(e);if((r===c||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{return r(e)}catch(n){try{return r.call(null,e)}catch(n){return r.call(this,e)}}}(function(){try{o="function"==typeof setTimeout?setTimeout:a}catch(e){o=a}try{r="function"==typeof clearTimeout?clearTimeout:c}catch(e){r=c}})();var l,f=[],h=!1,d=-1;function p(){h&&l&&(h=!1,l.length?f=l.concat(f):d=-1,f.length&&m())}function m(){if(!h){var e=s(p);h=!0;for(var n=f.length;n;){for(l=f,f=[];++d<n;)l&&l[d].run();d=-1,n=f.length}l=null,h=!1,u(e)}}function y(e,n){this.fun=e,this.array=n}function v(){}i.nextTick=function(e){var n=new Array(arguments.length-1);if(arguments.length>1)for(var t=1;t<arguments.length;t++)n[t-1]=arguments[t];f.push(new y(e,n)),1!==f.length||h||s(m)},y.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=v,i.addListener=v,i.once=v,i.off=v,i.removeListener=v,i.removeAllListeners=v,i.emit=v,i.prependListener=v,i.prependOnceListener=v,i.listeners=function(e){return[]},i.binding=function(e){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(e){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},{}],HelloWorld:[function(e,n,t){"use strict";cc._RF.push(n,"280c3rsZJJKnZ9RqbALVwtK","HelloWorld"),cc.Class({extends:cc.Component,properties:{label:{default:null,type:cc.Label},text:"Hello, World!"},onLoad:function(){},update:function(e){}}),cc._RF.pop()},{}],Main:[function(e,n,t){"use strict";cc._RF.push(n,"87eeb7YlMVMhJEo2v7YlRaI","Main");var o=e("./async");cc.Class({extends:cc.Component,properties:{mPlaySanke:{default:null,type:cc.Prefab},mYK:{default:null,type:cc.Prefab},mCamera:{default:null,type:cc.Camera},time_fiex:0,time_fiex2:0,mSpeedBtn:{default:null,type:cc.Prefab},mFood:{default:null,type:cc.Prefab},mGameOverUI:{default:null,type:cc.Node},_mScene:null,_mTimeFood:0,_mTimeConputer:0,mSnakeAI:{type:cc.Prefab,default:[]},_mSnakeArr:[],_mSnankeNum:10,_myFoodPool:{type:cc.NodePool,default:null},_mSnakePool:{type:cc.NodePool,default:null},_mSnakeChildrenPool:{type:cc.NodePool,default:null},snake_children:{default:null,type:cc.Prefab}},createFood:function(e){for(var n=0;n<e;n++){var t=cc.instantiate(this.mFood);this._myFoodPool.put(t)}},createChildren:function(e){for(var n=0;n<e;n++){var t=cc.instantiate(this.snake_children);this._mSnakeChildrenPool.put(t)}},randomFood:function(e){var n=this;if(this._mScene.children[1].childrenCount>=500)return!1;var t=o.myrange(0,this._myFoodPool.size());o.eachLimit(t,e,function(e,t){var o=null;n._myFoodPool.size()>0?((o=n._myFoodPool.get(n._myFoodPool)).color=new cc.Color(n.getRndInteger(0,255),n.getRndInteger(0,255),n.getRndInteger(0,255)),o.active=!0,o.x=n.getRndInteger(-2499,2500)+480,o.y=n.getRndInteger(-2499,2500)+320):((o=cc.instantiate(n.mFood)).color=new cc.Color(n.getRndInteger(0,255),n.getRndInteger(0,255),n.getRndInteger(0,255)),o.active=!0,o.x=n.getRndInteger(-2499,2500)+480,o.y=n.getRndInteger(-2499,2500)+320),o.parent=n._mScene.children[1]},function(){})},randomConputerSnake:function(){var e=this,n=o.myrange(0,this._mSnakePool.size());o.eachLimit(n,10,function(n,t){var o=null;(o=e._mSnakePool.size()>0?e._mSnakePool.get(e._mSnakePool):cc.instantiate(e.mSnakeAI)).active=!0,o.parent=e._mScene.children[5]},function(){})},getRndInteger:function(e,n){return Math.floor(Math.random()*(n-e))+e},onLoad:function(){cc.director.isPaused()&&cc.director.resume();var e=this.mPlaySanke.data,n=this.mYK.data,t=this.mSpeedBtn;this._mScene=cc.director.getScene(),this.mPlaySanke=cc.instantiate(e),this.mYK=cc.instantiate(n),this.mSpeedBtn=cc.instantiate(t),this._mSnakeChildrenPool=new cc.NodePool("snake_children"),this.createChildren(300),this._mSnankeNum=12;for(var o=0;o<this._mSnankeNum;o++){(i=cc.instantiate(this.mSnakeAI[o])).x=480,i.y=320,i.children[i.childrenCount-1].x=this.getRndInteger(-2e3,2e3),i.children[i.childrenCount-1].y=this.getRndInteger(-2e3,2e3),this._mSnakeArr.push(i)}this.mPlaySanke.x=480,this.mPlaySanke.y=320,this.mPlaySanke.mYg=this.mYK.children[1],this.mPlaySanke.parent=this._mScene,this.mYK.x=130,this.mYK.y=130,this.mYK.parent=this._mScene,this.mSpeedBtn.x=840,this.mSpeedBtn.y=120,this.mSpeedBtn.parent=this._mScene,this.mPlaySanke=this.mPlaySanke.getComponent("sanke_play"),this.mPlaySanke.gameOver=!1,this.mPlaySanke.mYg=this.mYK.children[1].getComponent("yg"),this.mPlaySanke.mCamera=this.mCamera,this.mSpeedBtn=this.mSpeedBtn.getComponent("sanke_btn"),this.mSpeedBtn.m_sanke=this.mPlaySanke.node,this._myFoodPool=new cc.NodePool("food"),this.createFood(800),this.randomFood(500),console.log(this._myFoodPool.size());for(var r=0;r<this._mSnankeNum;r++){var i;(i=this._mSnakeArr[r].getComponent("sanke_ai")).mSnakeStart=1+r,i.node.parent=this._mScene.children[5]}},onGameOver:function(e,n){switch(n){case"back_main":console.log("\u8fd4\u56de\u5927\u5385"),cc.director.loadScene("test"),this._myFoodPool.clear(),this._mSnakeChildrenPool.clear();break;case"fuhuo":cc.director.isPaused()&&cc.director.resume(),this.mPlaySanke.gameOver=!1,this.node.children[0].active=!1;var t=this.mPlaySanke.node,o=t.childrenCount,r=t.children[o-1];r.x=this.getRndInteger(-2e3,2e3)+480,r.y=this.getRndInteger(-2e3,2e3)+320;for(var i=r.parent.getComponent("sanke_play"),a=0;a<o;a++)i.pos_set[a].x=r.x,i.pos_set[a].y=r.y,i.pos_set[a].z=0;break;default:console.log("\u670d\u52a1\u5668\u7e41\u5fd9!")}},start:function(){},fiexd_update:function(e){var n=this;this.mPlaySanke.moveSanke(e);this.mPlaySanke.getComponent("sanke_play");this._mScene.children[2].getComponent(cc.Label).string="Score:"+10*this.mPlaySanke.getComponent("sanke_play")._m_food_num;var t=this._mScene.children[3].getComponent(cc.Label);t.string="Pos:"+Math.floor(this.mPlaySanke.node.children[this.mPlaySanke.node.childrenCount-1].x)+"-"+Math.floor(this.mPlaySanke.node.children[this.mPlaySanke.node.childrenCount-1].y);var r=this._mScene.children[4].getComponent(cc.Label);Math.round(100*this.mCamera.zoomRatio),Math.round(100*this.mPlaySanke.node.scale);r.string="xxx:"+this.mCamera.zoomRatio,this.mCamera.zoomRatio>this.mPlaySanke.getComponent("sanke_play").mCZoomRatio&&(this.mCamera.zoomRatio-=.01),this._mTimeFood+=e,this._mTimeFood>=100&&(this.randomFood(100),this._mTimeFood-=100),this._mTimeConputer+=e,this._mTimeConputer>=500&&(this._mTimeConputer-=500),this.mPlaySanke.gameOver&&(cc.director.pause(),t.string="\u6e38\u620f\u7ed3\u675f",this.node.children[0].active=!0);var i=this.node.parent.parent.children[5],a=o.myrange(0,i.childrenCount),c=this._mSnankeNum<10?10:this._mSnankeNum;o.eachLimit(a,c,function(t,o){var r=i.children[t].getComponent("sanke_ai");r._m_random_time+=e,r._m_random_time>=200&&(r.mRandomPos.x=n.getRndInteger(-10,11)/10,r.mRandomPos.y=n.getRndInteger(-10,11)/10,r._m_random_time-=200)},function(){})},update:function(e){this.time_fiex+=Math.round(100*e);for(var n=this.mPlaySanke.speed_time;this.time_fiex>n;)this.time_fiex-=n,this.fiexd_update(n);for(this.time_fiex2+=Math.round(100*e);this.time_fiex2>2;){this.time_fiex2-=2;var t=this.node.parent.parent.children[5],r=o.myrange(0,t.childrenCount),i=this._mSnankeNum<10?10:this._mSnankeNum;o.eachLimit(r,i,function(e,n){t.children[e].getComponent("sanke_ai").moveSanke(.016)},function(){})}}}),cc._RF.pop()},{"./async":"async"}],UIBtn:[function(e,n,t){"use strict";cc._RF.push(n,"e2f3cRmZ0JD6LHrpxwnizvO","UIBtn"),cc.Class({extends:cc.Component,properties:{mProgressBar:{default:null,type:cc.Node},mLabel:{default:null,type:cc.Node}},onIsOK:function(e,n){console.log(n)},onLoginGame:function(e,n){switch(n){case"login_game":console.log("\u767b\u5f55\u6e38\u620f"),cc.director.loadScene("helloworld");break;default:console.log("\u670d\u52a1\u5668\u7e41\u5fd9\uff01\u8bf7\u7a0d\u540e\u518d\u8bd5")}},onLoad:function(){var e=this;this.node.children[0].active=!1;var n=this.mProgressBar.getComponent(cc.ProgressBar),t=this.mLabel.getComponent(cc.Label);cc.director.preloadScene("helloworld",function(e,o,r){var i=e/o;n.progress=i,t.string=Math.floor(100*i)+"%"},function(){cc.log("\u9884\u52a0\u8f7dhelloworld"),e.node.children[0].active=!0})},start:function(){}}),cc._RF.pop()},{}],async:[function(e,n,t){(function(e,o){"use strict";cc._RF.push(n,"bacdb5ns2pHWZ3ihnjtXfTp","async"),function(e,o){"object"==typeof t&&void 0!==n?o(t):"function"==typeof define&&define.amd?define(["exports"],o):o((void 0).async=(void 0).async||{})}(0,function(t){function r(e,n){n|=0;for(var t=Math.max(e.length-n,0),o=Array(t),r=0;r<t;r++)o[r]=e[n+r];return o}var i=function(e){var n=r(arguments,1);return function(){var t=r(arguments);return e.apply(null,n.concat(t))}},a=function(e){return function(){var n=r(arguments),t=n.pop();e.call(this,n,t)}};function c(e){var n=typeof e;return null!=e&&("object"==n||"function"==n)}var s="function"==typeof setImmediate&&setImmediate,u="object"==typeof e&&"function"==typeof e.nextTick;function l(e){setTimeout(e,0)}function f(e){return function(n){var t=r(arguments,1);e(function(){n.apply(null,t)})}}var h=f(s?setImmediate:u?e.nextTick:l);function d(e){return a(function(n,t){var o;try{o=e.apply(this,n)}catch(e){return t(e)}c(o)&&"function"==typeof o.then?o.then(function(e){p(t,null,e)},function(e){p(t,e.message?e:new Error(e))}):t(null,o)})}function p(e,n,t){try{e(n,t)}catch(e){h(m,e)}}function m(e){throw e}var y="function"==typeof Symbol;function v(e){return y&&"AsyncFunction"===e[Symbol.toStringTag]}function g(e){return v(e)?d(e):e}function _(e){return function(n){var t=r(arguments,1),o=a(function(t,o){var r=this;return e(n,function(e,n){g(e).apply(r,t.concat(n))},o)});return t.length?o.apply(this,t):o}}var b="object"==typeof o&&o&&o.Object===Object&&o,x="object"==typeof self&&self&&self.Object===Object&&self,S=b||x||Function("return this")(),C=S.Symbol,k=Object.prototype,P=k.hasOwnProperty,R=k.toString,L=C?C.toStringTag:void 0;function w(e){var n=P.call(e,L),t=e[L];try{e[L]=void 0;var o=!0}catch(e){}var r=R.call(e);return o&&(n?e[L]=t:delete e[L]),r}var M=Object.prototype.toString;function F(e){return M.call(e)}var j="[object Null]",I="[object Undefined]",O=C?C.toStringTag:void 0;function E(e){return null==e?void 0===e?I:j:O&&O in Object(e)?w(e):F(e)}var T="[object AsyncFunction]",B="[object Function]",A="[object GeneratorFunction]",N="[object Proxy]";function z(e){if(!c(e))return!1;var n=E(e);return n==B||n==A||n==T||n==N}var Y=9007199254740991;function K(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=Y}function H(e){return null!=e&&K(e.length)&&!z(e)}var U={};function W(){}function q(e){return function(){if(null!==e){var n=e;e=null,n.apply(this,arguments)}}}var V="function"==typeof Symbol&&Symbol.iterator,D=function(e){return V&&e[V]&&e[V]()};function Z(e,n){for(var t=-1,o=Array(e);++t<e;)o[t]=n(t);return o}function G(e){return null!=e&&"object"==typeof e}var J="[object Arguments]";function Q(e){return G(e)&&E(e)==J}var X=Object.prototype,$=X.hasOwnProperty,ee=X.propertyIsEnumerable,ne=Q(function(){return arguments}())?Q:function(e){return G(e)&&$.call(e,"callee")&&!ee.call(e,"callee")},te=Array.isArray;var oe="object"==typeof t&&t&&!t.nodeType&&t,re=oe&&"object"==typeof n&&n&&!n.nodeType&&n,ie=re&&re.exports===oe?S.Buffer:void 0,ae=(ie?ie.isBuffer:void 0)||function(){return!1},ce=9007199254740991,se=/^(?:0|[1-9]\d*)$/;function ue(e,n){var t=typeof e;return!!(n=null==n?ce:n)&&("number"==t||"symbol"!=t&&se.test(e))&&e>-1&&e%1==0&&e<n}var le={};le["[object Float32Array]"]=le["[object Float64Array]"]=le["[object Int8Array]"]=le["[object Int16Array]"]=le["[object Int32Array]"]=le["[object Uint8Array]"]=le["[object Uint8ClampedArray]"]=le["[object Uint16Array]"]=le["[object Uint32Array]"]=!0,le["[object Arguments]"]=le["[object Array]"]=le["[object ArrayBuffer]"]=le["[object Boolean]"]=le["[object DataView]"]=le["[object Date]"]=le["[object Error]"]=le["[object Function]"]=le["[object Map]"]=le["[object Number]"]=le["[object Object]"]=le["[object RegExp]"]=le["[object Set]"]=le["[object String]"]=le["[object WeakMap]"]=!1;var fe="object"==typeof t&&t&&!t.nodeType&&t,he=fe&&"object"==typeof n&&n&&!n.nodeType&&n,de=he&&he.exports===fe&&b.process,pe=function(){try{var e=he&&he.require&&he.require("util").types;return e||de&&de.binding&&de.binding("util")}catch(e){}}(),me=pe&&pe.isTypedArray,ye=me?function(e){return function(n){return e(n)}}(me):function(e){return G(e)&&K(e.length)&&!!le[E(e)]},ve=Object.prototype.hasOwnProperty;function ge(e,n){var t=te(e),o=!t&&ne(e),r=!t&&!o&&ae(e),i=!t&&!o&&!r&&ye(e),a=t||o||r||i,c=a?Z(e.length,String):[],s=c.length;for(var u in e)!n&&!ve.call(e,u)||a&&("length"==u||r&&("offset"==u||"parent"==u)||i&&("buffer"==u||"byteLength"==u||"byteOffset"==u)||ue(u,s))||c.push(u);return c}var _e=Object.prototype;function be(e){var n=e&&e.constructor;return e===("function"==typeof n&&n.prototype||_e)}var xe=function(e,n){return function(t){return e(n(t))}}(Object.keys,Object),Se=Object.prototype.hasOwnProperty;function Ce(e){if(!be(e))return xe(e);var n=[];for(var t in Object(e))Se.call(e,t)&&"constructor"!=t&&n.push(t);return n}function ke(e){return H(e)?ge(e):Ce(e)}function Pe(e){var n=-1,t=e.length;return function(){return++n<t?{value:e[n],key:n}:null}}function Re(e){var n=-1;return function(){var t=e.next();return t.done?null:(n++,{value:t.value,key:n})}}function Le(e){var n=ke(e),t=-1,o=n.length;return function(){var r=n[++t];return t<o?{value:e[r],key:r}:null}}function we(e){if(H(e))return Pe(e);var n=D(e);return n?Re(n):Le(e)}function Me(e){return function(){if(null===e)throw new Error("Callback was already called.");var n=e;e=null,n.apply(this,arguments)}}function Fe(e){return function(n,t,o){if(o=q(o||W),e<=0||!n)return o(null);var r=we(n),i=!1,a=0,c=!1;function s(e,n){if(a-=1,e)i=!0,o(e);else{if(n===U||i&&a<=0)return i=!0,o(null);c||u()}}function u(){for(c=!0;a<e&&!i;){var n=r();if(null===n)return i=!0,void(a<=0&&o(null));a+=1,t(n.value,n.key,Me(s))}c=!1}u()}}function je(e,n,t,o){Fe(n)(e,g(t),o)}function Ie(e,n){return function(t,o,r){return e(t,n,o,r)}}function Oe(e,n,t){t=q(t||W);var o=0,r=0,i=e.length;function a(e,n){e?t(e):++r!==i&&n!==U||t(null)}for(0===i&&t(null);o<i;o++)n(e[o],o,Me(a))}var Ee=Ie(je,1/0),Te=function(e,n,t){(H(e)?Oe:Ee)(e,g(n),t)};function Be(e){return function(n,t,o){return e(Te,n,g(t),o)}}function Ae(e,n,t,o){o=o||W,n=n||[];var r=[],i=0,a=g(t);e(n,function(e,n,t){var o=i++;a(e,function(e,n){r[o]=n,t(e)})},function(e){o(e,r)})}var Ne=Be(Ae),ze=_(Ne);function Ye(e){return function(n,t,o,r){return e(Fe(t),n,g(o),r)}}var Ke=Ye(Ae),He=Ie(Ke,1),Ue=_(He);function We(e,n){for(var t=-1,o=null==e?0:e.length;++t<o&&!1!==n(e[t],t,e););return e}var qe=function(e){return function(n,t,o){for(var r=-1,i=Object(n),a=o(n),c=a.length;c--;){var s=a[e?c:++r];if(!1===t(i[s],s,i))break}return n}}();function Ve(e,n){return e&&qe(e,n,ke)}function De(e,n,t,o){for(var r=e.length,i=t+(o?1:-1);o?i--:++i<r;)if(n(e[i],i,e))return i;return-1}function Ze(e){return e!=e}function Ge(e,n,t){for(var o=t-1,r=e.length;++o<r;)if(e[o]===n)return o;return-1}function Je(e,n,t){return n==n?Ge(e,n,t):De(e,Ze,t)}var Qe=function(e,n,t){"function"==typeof n&&(t=n,n=null),t=q(t||W);var o=ke(e).length;if(!o)return t(null);n||(n=o);var i={},a=0,c=!1,s=Object.create(null),u=[],l=[],f={};function h(e,n){u.push(function(){y(e,n)})}function d(){if(0===u.length&&0===a)return t(null,i);for(;u.length&&a<n;){u.shift()()}}function p(e,n){var t=s[e];t||(t=s[e]=[]),t.push(n)}function m(e){We(s[e]||[],function(e){e()}),d()}function y(e,n){if(!c){var o=Me(function(n,o){if(a--,arguments.length>2&&(o=r(arguments,1)),n){var u={};Ve(i,function(e,n){u[n]=e}),u[e]=o,c=!0,s=Object.create(null),t(n,u)}else i[e]=o,m(e)});a++;var u=g(n[n.length-1]);n.length>1?u(i,o):u(o)}}function v(n){var t=[];return Ve(e,function(e,o){te(e)&&Je(e,n,0)>=0&&t.push(o)}),t}Ve(e,function(n,t){if(!te(n))return h(t,[n]),void l.push(t);var o=n.slice(0,n.length-1),r=o.length;if(0===r)return h(t,n),void l.push(t);f[t]=r,We(o,function(i){if(!e[i])throw new Error("async.auto task `"+t+"` has a non-existent dependency `"+i+"` in "+o.join(", "));p(i,function(){0===--r&&h(t,n)})})}),function(){var e,n=0;for(;l.length;)e=l.pop(),n++,We(v(e),function(e){0==--f[e]&&l.push(e)});if(n!==o)throw new Error("async.auto cannot execute tasks due to a recursive dependency")}(),d()};function Xe(e,n){for(var t=-1,o=null==e?0:e.length,r=Array(o);++t<o;)r[t]=n(e[t],t,e);return r}var $e="[object Symbol]";function en(e){return"symbol"==typeof e||G(e)&&E(e)==$e}var nn=1/0,tn=C?C.prototype:void 0,on=tn?tn.toString:void 0;function rn(e){if("string"==typeof e)return e;if(te(e))return Xe(e,rn)+"";if(en(e))return on?on.call(e):"";var n=e+"";return"0"==n&&1/e==-nn?"-0":n}function an(e,n,t){var o=-1,r=e.length;n<0&&(n=-n>r?0:r+n),(t=t>r?r:t)<0&&(t+=r),r=n>t?0:t-n>>>0,n>>>=0;for(var i=Array(r);++o<r;)i[o]=e[o+n];return i}function cn(e,n,t){var o=e.length;return t=void 0===t?o:t,!n&&t>=o?e:an(e,n,t)}function sn(e,n){for(var t=e.length;t--&&Je(n,e[t],0)>-1;);return t}function un(e,n){for(var t=-1,o=e.length;++t<o&&Je(n,e[t],0)>-1;);return t}function ln(e){return e.split("")}var fn=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");function hn(e){return fn.test(e)}var dn="[\\ud800-\\udfff]",pn="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",mn="\\ud83c[\\udffb-\\udfff]",yn="[^\\ud800-\\udfff]",vn="(?:\\ud83c[\\udde6-\\uddff]){2}",gn="[\\ud800-\\udbff][\\udc00-\\udfff]",_n="(?:"+pn+"|"+mn+")"+"?",bn="[\\ufe0e\\ufe0f]?"+_n+("(?:\\u200d(?:"+[yn,vn,gn].join("|")+")[\\ufe0e\\ufe0f]?"+_n+")*"),xn="(?:"+[yn+pn+"?",pn,vn,gn,dn].join("|")+")",Sn=RegExp(mn+"(?="+mn+")|"+xn+bn,"g");function Cn(e){return e.match(Sn)||[]}function kn(e){return hn(e)?Cn(e):ln(e)}function Pn(e){return null==e?"":rn(e)}var Rn=/^\s+|\s+$/g;function Ln(e,n,t){if((e=Pn(e))&&(t||void 0===n))return e.replace(Rn,"");if(!e||!(n=rn(n)))return e;var o=kn(e),r=kn(n);return cn(o,un(o,r),sn(o,r)+1).join("")}var wn=/^(?:async\s+)?(function)?\s*[^\(]*\(\s*([^\)]*)\)/m,Mn=/,/,Fn=/(=.+)?(\s*)$/,jn=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/gm;function In(e){return e=(e=(e=(e=e.toString().replace(jn,"")).match(wn)[2].replace(" ",""))?e.split(Mn):[]).map(function(e){return Ln(e.replace(Fn,""))})}function On(e,n){var t={};Ve(e,function(e,n){var o,r=v(e),i=!r&&1===e.length||r&&0===e.length;if(te(e))o=e.slice(0,-1),e=e[e.length-1],t[n]=o.concat(o.length>0?a:e);else if(i)t[n]=e;else{if(o=In(e),0===e.length&&!r&&0===o.length)throw new Error("autoInject task functions require explicit parameters.");r||o.pop(),t[n]=o.concat(a)}function a(n,t){var r=Xe(o,function(e){return n[e]});r.push(t),g(e).apply(null,r)}}),Qe(t,n)}function En(){this.head=this.tail=null,this.length=0}function Tn(e,n){e.length=1,e.head=e.tail=n}function Bn(e,n,t){if(null==n)n=1;else if(0===n)throw new Error("Concurrency must not be zero");var o=g(e),r=0,i=[],a=!1;function c(e,n,t){if(null!=t&&"function"!=typeof t)throw new Error("task callback must be a function");if(l.started=!0,te(e)||(e=[e]),0===e.length&&l.idle())return h(function(){l.drain()});for(var o=0,r=e.length;o<r;o++){var i={data:e[o],callback:t||W};n?l._tasks.unshift(i):l._tasks.push(i)}a||(a=!0,h(function(){a=!1,l.process()}))}function s(e){return function(n){r-=1;for(var t=0,o=e.length;t<o;t++){var a=e[t],c=Je(i,a,0);0===c?i.shift():c>0&&i.splice(c,1),a.callback.apply(a,arguments),null!=n&&l.error(n,a.data)}r<=l.concurrency-l.buffer&&l.unsaturated(),l.idle()&&l.drain(),l.process()}}var u=!1,l={_tasks:new En,concurrency:n,payload:t,saturated:W,unsaturated:W,buffer:n/4,empty:W,drain:W,error:W,started:!1,paused:!1,push:function(e,n){c(e,!1,n)},kill:function(){l.drain=W,l._tasks.empty()},unshift:function(e,n){c(e,!0,n)},remove:function(e){l._tasks.remove(e)},process:function(){if(!u){for(u=!0;!l.paused&&r<l.concurrency&&l._tasks.length;){var e=[],n=[],t=l._tasks.length;l.payload&&(t=Math.min(t,l.payload));for(var a=0;a<t;a++){var c=l._tasks.shift();e.push(c),i.push(c),n.push(c.data)}r+=1,0===l._tasks.length&&l.empty(),r===l.concurrency&&l.saturated();var f=Me(s(e));o(n,f)}u=!1}},length:function(){return l._tasks.length},running:function(){return r},workersList:function(){return i},idle:function(){return l._tasks.length+r===0},pause:function(){l.paused=!0},resume:function(){!1!==l.paused&&(l.paused=!1,h(l.process))}};return l}function An(e,n){return Bn(e,1,n)}En.prototype.removeLink=function(e){return e.prev?e.prev.next=e.next:this.head=e.next,e.next?e.next.prev=e.prev:this.tail=e.prev,e.prev=e.next=null,this.length-=1,e},En.prototype.empty=function(){for(;this.head;)this.shift();return this},En.prototype.insertAfter=function(e,n){n.prev=e,n.next=e.next,e.next?e.next.prev=n:this.tail=n,e.next=n,this.length+=1},En.prototype.insertBefore=function(e,n){n.prev=e.prev,n.next=e,e.prev?e.prev.next=n:this.head=n,e.prev=n,this.length+=1},En.prototype.unshift=function(e){this.head?this.insertBefore(this.head,e):Tn(this,e)},En.prototype.push=function(e){this.tail?this.insertAfter(this.tail,e):Tn(this,e)},En.prototype.shift=function(){return this.head&&this.removeLink(this.head)},En.prototype.pop=function(){return this.tail&&this.removeLink(this.tail)},En.prototype.toArray=function(){for(var e=Array(this.length),n=this.head,t=0;t<this.length;t++)e[t]=n.data,n=n.next;return e},En.prototype.remove=function(e){for(var n=this.head;n;){var t=n.next;e(n)&&this.removeLink(n),n=t}return this};var Nn=Ie(je,1);function zn(e,n,t,o){o=q(o||W);var r=g(t);Nn(e,function(e,t,o){r(n,e,function(e,t){n=t,o(e)})},function(e){o(e,n)})}function Yn(){var e=Xe(arguments,g);return function(){var n=r(arguments),t=this,o=n[n.length-1];"function"==typeof o?n.pop():o=W,zn(e,n,function(e,n,o){n.apply(t,e.concat(function(e){var n=r(arguments,1);o(e,n)}))},function(e,n){o.apply(t,[e].concat(n))})}}var Kn=function(){return Yn.apply(null,r(arguments).reverse())},Hn=Array.prototype.concat,Un=function(e,n,t,o){o=o||W;var i=g(t);Ke(e,n,function(e,n){i(e,function(e){return e?n(e):n(null,r(arguments,1))})},function(e,n){for(var t=[],r=0;r<n.length;r++)n[r]&&(t=Hn.apply(t,n[r]));return o(e,t)})},Wn=Ie(Un,1/0),qn=Ie(Un,1),Vn=function(){var e=r(arguments),n=[null].concat(e);return function(){return arguments[arguments.length-1].apply(this,n)}};function Dn(e){return e}function Zn(e,n){return function(t,o,r,i){i=i||W;var a,c=!1;t(o,function(t,o,i){r(t,function(o,r){o?i(o):e(r)&&!a?(c=!0,a=n(!0,t),i(null,U)):i()})},function(e){e?i(e):i(null,c?a:n(!1))})}}function Gn(e,n){return n}var Jn=Be(Zn(Dn,Gn)),Qn=Ye(Zn(Dn,Gn)),Xn=Ie(Qn,1);function $n(e){return function(n){var t=r(arguments,1);t.push(function(n){var t=r(arguments,1);"object"==typeof console&&(n?console.error&&console.error(n):console[e]&&We(t,function(n){console[e](n)}))}),g(n).apply(null,t)}}var et=$n("dir");function nt(e,n,t){t=Me(t||W);var o=g(e),i=g(n);function a(e){if(e)return t(e);var n=r(arguments,1);n.push(c),i.apply(this,n)}function c(e,n){return e?t(e):n?void o(a):t(null)}c(null,!0)}function tt(e,n,t){t=Me(t||W);var o=g(e);o(function e(i){if(i)return t(i);var a=r(arguments,1);if(n.apply(this,a))return o(e);t.apply(null,[null].concat(a))})}function ot(e,n,t){tt(e,function(){return!n.apply(this,arguments)},t)}function rt(e,n,t){t=Me(t||W);var o=g(n),r=g(e);function i(e){if(e)return t(e);r(a)}function a(e,n){return e?t(e):n?void o(i):t(null)}r(a)}function it(e){return function(n,t,o){return e(n,o)}}function at(e,n,t){Te(e,it(g(n)),t)}function ct(e,n,t,o){Fe(n)(e,it(g(t)),o)}var st=Ie(ct,1);function ut(e){return v(e)?e:a(function(n,t){var o=!0;n.push(function(){var e=arguments;o?h(function(){t.apply(null,e)}):t.apply(null,e)}),e.apply(this,n),o=!1})}function lt(e){return!e}var ft=Be(Zn(lt,lt)),ht=Ye(Zn(lt,lt)),dt=Ie(ht,1);function pt(e){return function(n){return null==n?void 0:n[e]}}function mt(e,n,t,o){var r=new Array(n.length);e(n,function(e,n,o){t(e,function(e,t){r[n]=!!t,o(e)})},function(e){if(e)return o(e);for(var t=[],i=0;i<n.length;i++)r[i]&&t.push(n[i]);o(null,t)})}function yt(e,n,t,o){var r=[];e(n,function(e,n,o){t(e,function(t,i){t?o(t):(i&&r.push({index:n,value:e}),o())})},function(e){e?o(e):o(null,Xe(r.sort(function(e,n){return e.index-n.index}),pt("value")))})}function vt(e,n,t,o){(H(n)?mt:yt)(e,n,g(t),o||W)}var gt=Be(vt),_t=Ye(vt),bt=Ie(_t,1);function xt(e,n){var t=Me(n||W),o=g(ut(e));(function e(n){if(n)return t(n);o(e)})()}var St=function(e,n,t,o){o=o||W;var r=g(t);Ke(e,n,function(e,n){r(e,function(t,o){return t?n(t):n(null,{key:o,val:e})})},function(e,n){for(var t={},r=Object.prototype.hasOwnProperty,i=0;i<n.length;i++)if(n[i]){var a=n[i].key,c=n[i].val;r.call(t,a)?t[a].push(c):t[a]=[c]}return o(e,t)})},Ct=Ie(St,1/0),kt=Ie(St,1),Pt=$n("log");function Rt(e,n,t,o){o=q(o||W);var r={},i=g(t);je(e,n,function(e,n,t){i(e,n,function(e,o){if(e)return t(e);r[n]=o,t()})},function(e){o(e,r)})}var Lt=Ie(Rt,1/0),wt=Ie(Rt,1);function Mt(e,n){return n in e}function Ft(e,n){var t=Object.create(null),o=Object.create(null);n=n||Dn;var i=g(e),c=a(function(e,a){var c=n.apply(null,e);Mt(t,c)?h(function(){a.apply(null,t[c])}):Mt(o,c)?o[c].push(a):(o[c]=[a],i.apply(null,e.concat(function(){var e=r(arguments);t[c]=e;var n=o[c];delete o[c];for(var i=0,a=n.length;i<a;i++)n[i].apply(null,e)})))});return c.memo=t,c.unmemoized=e,c}var jt=f(u?e.nextTick:s?setImmediate:l);function It(e,n,t){t=t||W;var o=H(n)?[]:{};e(n,function(e,n,t){g(e)(function(e,i){arguments.length>2&&(i=r(arguments,1)),o[n]=i,t(e)})},function(e){t(e,o)})}function Ot(e,n){It(Te,e,n)}function Et(e,n,t){It(Fe(n),e,t)}var Tt=function(e,n){var t=g(e);return Bn(function(e,n){t(e[0],n)},n,1)},Bt=function(e,n){var t=Tt(e,n);return t.push=function(e,n,o){if(null==o&&(o=W),"function"!=typeof o)throw new Error("task callback must be a function");if(t.started=!0,te(e)||(e=[e]),0===e.length)return h(function(){t.drain()});n=n||0;for(var r=t._tasks.head;r&&n>=r.priority;)r=r.next;for(var i=0,a=e.length;i<a;i++){var c={data:e[i],priority:n,callback:o};r?t._tasks.insertBefore(r,c):t._tasks.push(c)}h(t.process)},delete t.unshift,t};function At(e,n){if(n=q(n||W),!te(e))return n(new TypeError("First argument to race must be an array of functions"));if(!e.length)return n();for(var t=0,o=e.length;t<o;t++)g(e[t])(n)}function Nt(e,n,t,o){zn(r(e).reverse(),n,t,o)}function zt(e){var n=g(e);return a(function(e,t){return e.push(function(e,n){var o;e?t(null,{error:e}):(o=arguments.length<=2?n:r(arguments,1),t(null,{value:o}))}),n.apply(this,e)})}function Yt(e){var n;return te(e)?n=Xe(e,zt):(n={},Ve(e,function(e,t){n[t]=zt.call(this,e)})),n}function Kt(e,n,t,o){vt(e,n,function(e,n){t(e,function(e,t){n(e,!t)})},o)}var Ht=Be(Kt),Ut=Ye(Kt),Wt=Ie(Ut,1);function qt(e){return function(){return e}}function Vt(e,n,t){var o=5,r=0,i={times:o,intervalFunc:qt(r)};if(arguments.length<3&&"function"==typeof e?(t=n||W,n=e):(function(e,n){if("object"==typeof n)e.times=+n.times||o,e.intervalFunc="function"==typeof n.interval?n.interval:qt(+n.interval||r),e.errorFilter=n.errorFilter;else{if("number"!=typeof n&&"string"!=typeof n)throw new Error("Invalid arguments for async.retry");e.times=+n||o}}(i,e),t=t||W),"function"!=typeof n)throw new Error("Invalid arguments for async.retry");var a=g(n),c=1;(function e(){a(function(n){n&&c++<i.times&&("function"!=typeof i.errorFilter||i.errorFilter(n))?setTimeout(e,i.intervalFunc(c)):t.apply(null,arguments)})})()}var Dt=function(e,n){n||(n=e,e=null);var t=g(n);return a(function(n,o){function r(e){t.apply(null,n.concat(e))}e?Vt(e,r,o):Vt(r,o)})};function Zt(e,n){It(Nn,e,n)}var Gt=Be(Zn(Boolean,Dn)),Jt=Ye(Zn(Boolean,Dn)),Qt=Ie(Jt,1);function Xt(e,n,t){var o=g(n);function r(e,n){var t=e.criteria,o=n.criteria;return t<o?-1:t>o?1:0}Ne(e,function(e,n){o(e,function(t,o){if(t)return n(t);n(null,{value:e,criteria:o})})},function(e,n){if(e)return t(e);t(null,Xe(n.sort(r),pt("value")))})}function $t(e,n,t){var o=g(e);return a(function(r,i){var a,c=!1;r.push(function(){c||(i.apply(null,arguments),clearTimeout(a))}),a=setTimeout(function(){var n=e.name||"anonymous",o=new Error('Callback function "'+n+'" timed out.');o.code="ETIMEDOUT",t&&(o.info=t),c=!0,i(o)},n),o.apply(null,r)})}var eo=Math.ceil,no=Math.max;function to(e,n,t,o){for(var r=-1,i=no(eo((n-e)/(t||1)),0),a=Array(i);i--;)a[o?i:++r]=e,e+=t;return a}function oo(e,n,t,o){var r=g(t);Ke(to(0,e,1),n,r,o)}var ro=Ie(oo,1/0),io=Ie(oo,1);function ao(e,n,t,o){arguments.length<=3&&(o=t,t=n,n=te(e)?[]:{}),o=q(o||W);var r=g(t);Te(e,function(e,t,o){r(n,e,t,o)},function(e){o(e,n)})}function co(e,n){var t,o=null;n=n||W,st(e,function(e,n){g(e)(function(e,i){t=arguments.length>2?r(arguments,1):i,o=e,n(!e)})},function(){n(o,t)})}function so(e){return function(){return(e.unmemoized||e).apply(null,arguments)}}function uo(e,n,t){t=Me(t||W);var o=g(n);if(!e())return t(null);o(function n(i){if(i)return t(i);if(e())return o(n);var a=r(arguments,1);t.apply(null,[null].concat(a))})}function lo(e,n,t){uo(function(){return!e.apply(this,arguments)},n,t)}var fo=function(e,n){if(n=q(n||W),!te(e))return n(new Error("First argument to waterfall must be an array of functions"));if(!e.length)return n();var t=0;function o(n){var o=g(e[t++]);n.push(Me(i)),o.apply(null,n)}function i(i){if(i||t===e.length)return n.apply(null,arguments);o(r(arguments,1))}o([])},ho={apply:i,applyEach:ze,applyEachSeries:Ue,asyncify:d,auto:Qe,autoInject:On,cargo:An,compose:Kn,concat:Wn,concatLimit:Un,concatSeries:qn,constant:Vn,detect:Jn,detectLimit:Qn,detectSeries:Xn,dir:et,doDuring:nt,doUntil:ot,doWhilst:tt,during:rt,each:at,eachLimit:ct,eachOf:Te,eachOfLimit:je,eachOfSeries:Nn,eachSeries:st,ensureAsync:ut,every:ft,everyLimit:ht,everySeries:dt,filter:gt,filterLimit:_t,filterSeries:bt,forever:xt,groupBy:Ct,groupByLimit:St,groupBySeries:kt,log:Pt,map:Ne,mapLimit:Ke,mapSeries:He,mapValues:Lt,mapValuesLimit:Rt,mapValuesSeries:wt,memoize:Ft,nextTick:jt,parallel:Ot,parallelLimit:Et,priorityQueue:Bt,queue:Tt,race:At,reduce:zn,reduceRight:Nt,reflect:zt,reflectAll:Yt,reject:Ht,rejectLimit:Ut,rejectSeries:Wt,retry:Vt,retryable:Dt,seq:Yn,series:Zt,setImmediate:h,some:Gt,someLimit:Jt,someSeries:Qt,sortBy:Xt,timeout:$t,times:ro,timesLimit:oo,timesSeries:io,transform:ao,tryEach:co,unmemoize:so,until:lo,waterfall:fo,whilst:uo,all:ft,allLimit:ht,allSeries:dt,any:Gt,anyLimit:Jt,anySeries:Qt,find:Jn,findLimit:Qn,findSeries:Xn,forEach:at,forEachSeries:st,forEachLimit:ct,forEachOf:Te,forEachOfSeries:Nn,forEachOfLimit:je,inject:zn,foldl:zn,foldr:Nt,select:gt,selectLimit:_t,selectSeries:bt,wrapSync:d};t.accAdd=function(e,n){var t,o,r;try{t=e.toString().split(".")[1].length}catch(e){t=0}try{o=n.toString().split(".")[1].length}catch(e){o=0}return((e*(r=Math.pow(100,Math.max(t,o)))+n*r)/r).toFixed(2)},t.Subtr=function(e,n){var t,o,r;try{t=e.toString().split(".")[1].length}catch(e){t=0}try{o=n.toString().split(".")[1].length}catch(e){o=0}return r=Math.pow(100,Math.max(t,o)),((e*r-n*r)/r).toFixed(2)},t.accMul=function(e,n){var t=0,o=e.toString(),r=n.toString();try{t+=o.split(".")[1].length}catch(e){}try{t+=r.split(".")[1].length}catch(e){}return Number(o.replace(".",""))*Number(r.replace(".",""))/Math.pow(100,t)},t.myrange=function(e,n){return new Array(n-e).fill(e).map(function(n,t){return e+t})},t.default=ho,t.apply=i,t.applyEach=ze,t.applyEachSeries=Ue,t.asyncify=d,t.auto=Qe,t.autoInject=On,t.cargo=An,t.compose=Kn,t.concat=Wn,t.concatLimit=Un,t.concatSeries=qn,t.constant=Vn,t.detect=Jn,t.detectLimit=Qn,t.detectSeries=Xn,t.dir=et,t.doDuring=nt,t.doUntil=ot,t.doWhilst=tt,t.during=rt,t.each=at,t.eachLimit=ct,t.eachOf=Te,t.eachOfLimit=je,t.eachOfSeries=Nn,t.eachSeries=st,t.ensureAsync=ut,t.every=ft,t.everyLimit=ht,t.everySeries=dt,t.filter=gt,t.filterLimit=_t,t.filterSeries=bt,t.forever=xt,t.groupBy=Ct,t.groupByLimit=St,t.groupBySeries=kt,t.log=Pt,t.map=Ne,t.mapLimit=Ke,t.mapSeries=He,t.mapValues=Lt,t.mapValuesLimit=Rt,t.mapValuesSeries=wt,t.memoize=Ft,t.nextTick=jt,t.parallel=Ot,t.parallelLimit=Et,t.priorityQueue=Bt,t.queue=Tt,t.race=At,t.reduce=zn,t.reduceRight=Nt,t.reflect=zt,t.reflectAll=Yt,t.reject=Ht,t.rejectLimit=Ut,t.rejectSeries=Wt,t.retry=Vt,t.retryable=Dt,t.seq=Yn,t.series=Zt,t.setImmediate=h,t.some=Gt,t.someLimit=Jt,t.someSeries=Qt,t.sortBy=Xt,t.timeout=$t,t.times=ro,t.timesLimit=oo,t.timesSeries=io,t.transform=ao,t.tryEach=co,t.unmemoize=so,t.until=lo,t.waterfall=fo,t.whilst=uo,t.all=ft,t.allLimit=ht,t.allSeries=dt,t.any=Gt,t.anyLimit=Jt,t.anySeries=Qt,t.find=Jn,t.findLimit=Qn,t.findSeries=Xn,t.forEach=at,t.forEachSeries=st,t.forEachLimit=ct,t.forEachOf=Te,t.forEachOfSeries=Nn,t.forEachOfLimit=je,t.inject=zn,t.foldl=zn,t.foldr=Nt,t.select=gt,t.selectLimit=_t,t.selectSeries=bt,t.wrapSync=d,Object.defineProperty(t,"__esModule",{value:!0})}),cc._RF.pop()}).call(this,e("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{_process:1}],enable_phy:[function(e,n,t){"use strict";cc._RF.push(n,"60b26PYZtFGd7vMev5B8A5R","enable_phy"),cc.Class({extends:cc.Component,properties:{gravity:cc.v2(0,-320),is_debug:!0},onLoad:function(){if(cc.director.getPhysicsManager().enabled=!0,cc.director.getPhysicsManager().gravity=this.gravity,this.is_debug){var e=cc.PhysicsManager.DrawBits;cc.director.getPhysicsManager().debugDrawFlags=e.e_aabbBit|e.e_centerOfMassBit|e.e_jointBit|e.e_shapeBit}else cc.director.getPhysicsManager().debugDrawFlags=0},start:function(){}}),cc._RF.pop()},{}],food:[function(e,n,t){"use strict";cc._RF.push(n,"749c0ekpLlCC52xyltu5AHB","food");e("./async");cc.Class({extends:cc.Component,properties:{sprite:{default:null,type:cc.SpriteFrame}},reuse:function(e){e||(console.log("hello"),setTimeout(function(){this.node.destroy()}.bind(self),200))},onCollisionEnter:function(e,n){var t=e.node.parent.convertToWorldSpaceAR(e.node.getPosition()),o=n.node.getPosition(),r=Math.abs(t.x-o.x),i=Math.abs(t.y-o.y);cc.log("result:"+r+":"+i),console.log("=====================================");var a=e.node.parent.name,c=e.node.parent.childrenCount,s=e.node.parent.children[c-1],u=e.node.parent.children[0],l="",f="";if("sanke_play"==a&&"sanke_play_head"==s.name)l=e.node.parent.parent.children[0].children[1].getComponent("Main"),f=e.node.parent.getComponent("sanke_play");else{if("head"!=s.name.substring(11))return!1;l=e.node.parent.parent.parent.children[0].children[1].getComponent("Main"),f=e.node.parent.getComponent("sanke_ai")}if(n.node.active=!1,l._myFoodPool.put(n.node),f._m_food_num+=1,f._m_food_num%5==0&&0!=f._m_food_num){var h="";if(l._mSnakeChildrenPool.size()>0){(h=l._mSnakeChildrenPool.get()).name=a+c,h.active=!0,h.group="food";for(var d=f.BLOCK_LEN/f.speed,p=0;p<d;)f.pos_set.unshift(cc.v3(u.x,u.y,u.z)),p+=f.m_time_cell;var m=Math.floor(f.BLOCK_LEN/(f.speed*f.m_time_cell));h.setPosition(cc.v2(f.pos_set[m].x,f.pos_set[m].y)),h.angle=f.pos_set[m].z,h.cur_index=m,h.zIndex=-1,h.parent=e.node.parent}}},onCollisionStay:function(e,n){},onCollisionExit:function(e,n){},onLoad:function(){cc.director.getCollisionManager().enabled=!0,cc.director.getPhysicsManager().enabled=!0},start:function(){}}),cc._RF.pop()},{"./async":"async"}],mapCollider:[function(e,n,t){"use strict";cc._RF.push(n,"6b6b7DPaIFK0I4K8QRwnu9V","mapCollider");e("./async");cc.Class({extends:cc.Component,properties:{mPrefab:{type:cc.Prefab,default:null}},reuse:function(e){console.log(e)},onCollisionEnter:function(e,n){if("sanke_play"==e.node.parent.name&&"sanke_play_head"==e.node.name)e.node.parent.getComponent("sanke_play").gameOver=!0;else if("head"==e.node.name.substring(11)){for(var t=e.node.parent.getComponent("sanke_ai"),o=t.pos_set,r=e.node.parent.childrenCount,i=e.node.parent.parent.parent.children[0].children[1].getComponent("Main"),a=t.point_num,c=0;c<r;c++){var s=null;i._myFoodPool.size()>0&&c%2==0&&((s=i._myFoodPool.get(i._myFoodPool)).color=new cc.Color(i.getRndInteger(0,255),i.getRndInteger(0,255),i.getRndInteger(0,255)),s.active=!0,s.x=o[c*a].x+480+i.getRndInteger(-5,5),s.y=o[c*a].y+320+i.getRndInteger(-5,5),s.parent=e.node.parent.parent.parent.children[1])}t.node.x=480,t.node.y=320;for(var u=Math.floor(4e3*Math.random())+-2e3,l=Math.floor(4e3*Math.random())+-2e3,f=0;f<t.node.childrenCount;f++)t.node.children[f].setPosition(cc.v2(u,l));for(var h=0;h<t.pos_set.length;h++)t.pos_set[h]=cc.v3(u,l,0)}},onLoad:function(){cc.director.getCollisionManager().enabled=!0,cc.director.getPhysicsManager().enabled=!0},start:function(){}}),cc._RF.pop()},{"./async":"async"}],sanke_ai:[function(e,n,t){"use strict";cc._RF.push(n,"6686eQdYOxFaoAx8miEH4bf","sanke_ai");cc.Class({extends:cc.Component,properties:{time_01:0,BLOCK_LEN:32,speed:200,speed_time:.032,m_time_cell:0,_m_food_num:0,_m_random_time:0,mSnakeStart:1,gameOver:!0,mRandomPos:cc.v2(0,0)},capture_points:function(e){var n=(this.node.childrenCount-1)*this.BLOCK_LEN,t=e.x,o=e.y,r=e.z,i=n/this.speed;this.pos_set=[],this.pos_set.push(cc.v3(t,o,r));for(var a=0;a<i;)o+=this.speed*this.m_time_cell,this.pos_set.push(cc.v3(t,o,r)),a+=this.m_time_cell;var c=this.node.children[this.node.childrenCount-1];c.zIndex=100,c.setPosition(cc.v2(this.pos_set[this.pos_set.length-1].x,this.pos_set[this.pos_set.length-1].y)),c.angle=this.pos_set[this.pos_set.length-1].z,this.point_num=Math.floor(this.BLOCK_LEN/(this.speed*this.m_time_cell));for(var s=this.node.childrenCount-2;s>=0;s--){var u=this.node.children[s],l=this.point_num*s;u.setPosition(cc.v2(this.pos_set[l].x,this.pos_set[l].y)),u.angle=this.pos_set[l].z,u.cur_index=l}},getRndInteger:function(e,n){return Math.floor(Math.random()*(n-e))+e},onLoad:function(){this.node.group="default",this.node.children[0].color,this.m_time_cell=.02,this.mRandomPos.x=(Math.floor(20*Math.random())+-10)/10,this.mRandomPos.y=(Math.floor(20*Math.random())+-10)/10},start:function(){var e=this.node.children[this.node.childrenCount-1],n=cc.v3(e.x,e.y,0);this.capture_points(n),null!=this.mYg&&(this.mYg=this.mYg.getComponent("yg"))},moveSanke:function(e){var n=this.node.children[this.node.childrenCount-1],t=n.getPosition();(t.x<=-2400||t.x>=2400)&&(this.mRandomPos.x=0-this.mRandomPos.x),(t.y<=-2400||t.y>=2400)&&(this.mRandomPos.y=0-this.mRandomPos.y);var o=this.speed*this.m_time_cell,r=Math.atan2(this.mRandomPos.y,this.mRandomPos.x),i=o*Math.cos(r),a=o*Math.sin(r);t.x+=i,t.y+=a,n.setPosition(cc.v2(t.x,t.y));this.node.convertToWorldSpaceAR(cc.v2(n.x,n.y));var c=180*r/Math.PI;n.angle=c-90,t.z=c-90,this.pos_set.push(t),this.point_num=Math.floor(this.BLOCK_LEN/(this.speed*this.m_time_cell));for(var s=this.node.childrenCount-2;s>=0;s--){var u=this.node.children[s],l=this.point_num*s;u.setPosition(cc.v2(this.pos_set[l].x,this.pos_set[l].y)),u.angle=this.pos_set[l].z,u.cur_index=l,0==s&&this.pos_set.shift()}}}),cc._RF.pop()},{}],sanke_btn:[function(e,n,t){"use strict";cc._RF.push(n,"b58d2AcCBVPg4P3iV4OucZ2","sanke_btn"),cc.Class({extends:cc.Component,properties:{m_sanke:{default:null,type:cc.Node}},onStartBtn:function(e){this.m_sanke.speed_time=1},onUpBtn:function(e){this.m_sanke.speed_time=2},onLoad:function(){this.node.on(cc.Node.EventType.TOUCH_START,this.onStartBtn,this),this.node.on(cc.Node.EventType.TOUCH_END,this.onUpBtn,this)},start:function(){this.m_sanke=this.m_sanke.getComponent("sanke_play")}}),cc._RF.pop()},{}],sanke_children:[function(e,n,t){"use strict";cc._RF.push(n,"2b080u1t95MHrbzEK1Kv7N8","sanke_children"),cc.Class({extends:cc.Component,properties:{},onCollisionEnter:function(e,n){if(e.node.name.substring(0,10)===n.node.name.substring(0,10)||"food"==e.node.name)return!1;if("sanke_play_head"==e.node.name)return e.node.parent.getComponent("sanke_play").gameOver=!0,!1;if("head"==e.node.name.substring(11)&&"sanke_play"!=n.node.name.substring(0,10)){for(var t=(m=e.node.parent.getComponent("sanke_ai")).pos_set,o=e.node.parent.childrenCount,r=e.node.parent.parent.parent.children[0].children[1].getComponent("Main"),i=m.point_num,a=0;a<o;a++){var c=null;r._myFoodPool.size()>0&&a%2==0&&((c=r._myFoodPool.get(r._myFoodPool)).color=new cc.Color(r.getRndInteger(0,255),r.getRndInteger(0,255),r.getRndInteger(0,255)),c.active=!0,c.x=t[a*i].x+480+r.getRndInteger(-5,5),c.y=t[a*i].y+320+r.getRndInteger(-5,5),c.parent=e.node.parent.parent.parent.children[1])}m.node.x=480,m.node.y=320;for(var s=Math.floor(4e3*Math.random())+-2e3,u=Math.floor(4e3*Math.random())+-2e3,l=0;l<m.node.childrenCount;l++)m.node.children[l].setPosition(cc.v2(s,u));for(var f=0;f<m.pos_set.length;f++)m.pos_set[f]=cc.v3(s,u,0);return!1}if("head"==e.node.name.substring(11)&&"sanke_play"==n.node.name.substring(0,10)){t=(m=e.node.parent.getComponent("sanke_ai")).pos_set,o=e.node.parent.childrenCount,r=e.node.parent.parent.parent.children[0].children[1].getComponent("Main"),i=m.point_num;for(var h=0;h<o;h++){c=null;r._myFoodPool.size()>0&&h%2==0&&((c=r._myFoodPool.get(r._myFoodPool)).color=new cc.Color(r.getRndInteger(0,255),r.getRndInteger(0,255),r.getRndInteger(0,255)),c.active=!0,c.x=t[h*i].x+480+r.getRndInteger(-5,5),c.y=t[h*i].y+320+r.getRndInteger(-5,5),c.parent=e.node.parent.parent.parent.children[1])}m.node.x=480,m.node.y=320;s=Math.floor(4e3*Math.random())+-2e3,u=Math.floor(4e3*Math.random())+-2e3;for(var d=0;d<m.node.childrenCount;d++)m.node.children[d].setPosition(cc.v2(s,u));for(var p=0;p<m.pos_set.length;p++)m.pos_set[p]=cc.v3(s,u,0);return!1}if("head"==e.node.name.substring(11)&&"sanke_play_head"==n.node.name){t=(m=e.node.parent.getComponent("sanke_ai")).pos_set,o=e.node.parent.childrenCount,r=e.node.parent.parent.parent.children[0].children[1].getComponent("Main"),i=m.point_num;for(var m,y=0;y<o;y++){c=null;r._myFoodPool.size()>0&&y%2==0&&((c=r._myFoodPool.get(r._myFoodPool)).color=new cc.Color(r.getRndInteger(0,255),r.getRndInteger(0,255),r.getRndInteger(0,255)),c.active=!0,c.x=t[y*i].x+480+r.getRndInteger(-15,15),c.y=t[y*i].y+320+r.getRndInteger(-15,15),c.parent=e.node.parent.parent.parent.children[1])}m.node.x=480,m.node.y=320;s=Math.floor(4e3*Math.random())+-2e3,u=Math.floor(4e3*Math.random())+-2e3;for(var v=0;v<m.node.childrenCount;v++)m.node.children[v].setPosition(cc.v2(s,u));for(var g=0;g<m.pos_set.length;g++)m.pos_set[g]=cc.v3(s,u,0);return!1}},onLoad:function(){cc.director.getCollisionManager().enabled=!0,cc.director.getPhysicsManager().enabled=!0},start:function(){}}),cc._RF.pop()},{}],sanke_play:[function(e,n,t){"use strict";cc._RF.push(n,"2b7b8YLqLtNFIqbWRPY11Nm","sanke_play");cc.Class({extends:cc.Component,properties:{mYg:{default:null,type:cc.Node},time_01:0,BLOCK_LEN:20,speed:200,mCamera:{type:cc.Camera,default:null},speed_time:.01,m_time_cell:0,_m_food_num:0,mSnakeScale:1,mCZoomRatio:1,gameOver:!1},onXXX:function(){var e=(this.node.childrenCount-1)*this.BLOCK_LEN,n=this.node.children[this.node.childrenCount-1],t=n.x,o=n.y,r=n.z,i=e/this.speed;this.pos_set=[],this.pos_set.push(cc.v3(t,o,r));for(var a=0;a<i;)o+=this.speed*this.m_time_cell,this.pos_set.push(cc.v3(t,o,r)),a+=this.m_time_cell},capture_points:function(){var e,n=(this.node.childrenCount-1)*this.BLOCK_LEN,t=(e=this.node.children[this.node.childrenCount-1]).x,o=e.y,r=e.z,i=n/this.speed;this.pos_set=[],this.pos_set.push(cc.v3(t,o,r));for(var a=0;a<i;)o+=this.speed*this.m_time_cell,this.pos_set.push(cc.v3(t,o,r)),a+=this.m_time_cell;(e=this.node.children[this.node.childrenCount-1]).zIndex=100,e.setPosition(cc.v2(this.pos_set[this.pos_set.length-1].x,this.pos_set[this.pos_set.length-1].y)),e.angle=this.pos_set[this.pos_set.length-1].z,this.point_num=Math.floor(this.BLOCK_LEN/(this.speed*this.m_time_cell));for(var c=this.node.childrenCount-2;c>=0;c--){var s=this.node.children[c],u=this.point_num*c;s.setPosition(cc.v2(this.pos_set[u].x,this.pos_set[u].y)),s.angle=this.pos_set[u].z,s.cur_index=u}},onLoad:function(){this.m_time_cell=.02,this.speed_time=2},start:function(){this.capture_points(),null!=this.mYg&&(this.mYg=this.mYg.getComponent("yg"))},moveSanke:function(e){var n=this.speed*this.m_time_cell,t=(this.mYg.dir.x,this.mYg.dir.y,Math.atan2(this.mYg.dir.y,this.mYg.dir.x)),o=n*Math.cos(t),r=n*Math.sin(t),i=this.node.children[this.node.childrenCount-1],a=i.getPosition();a.x+=o,a.y+=r,i.setPosition(cc.v2(a.x,a.y));var c=this.node.convertToWorldSpaceAR(cc.v2(i.x,i.y)),s=180*t/Math.PI;i.angle=s-90,a.z=s-90,this.pos_set.push(a),null!==this.mCamera&&(this.mCamera.node.x=c.x-480,this.mCamera.node.y=c.y-320),this.point_num=Math.floor(this.BLOCK_LEN/n);for(var u=this.node.childrenCount-2;u>=0;u--){var l=this.node.children[u],f=this.point_num*u;l.setPosition(cc.v2(this.pos_set[f].x,this.pos_set[f].y)),l.angle=this.pos_set[f].z,l.cur_index=f,0==u&&this.pos_set.shift()}}}),cc._RF.pop()},{}],wx_login_test:[function(e,n,t){"use strict";cc._RF.push(n,"b390bVAm2NHlY6zRklifd7S","wx_login_test");cc.Class({extends:cc.Component,properties:{label:{default:null,type:cc.Label},msgBox:{default:null,type:cc.EditBox},mySprite:{default:null,type:cc.Sprite}},btnClick1:function(e,n){this.msgBox.Label=void 0,this.msgBox.string=void 0,console.log("downloading...")},start:function(){window.wx?(this.msgBox.string="Weixin",cc.log("Yes."),wx.getSystemInfo({success:function(e){wx.createUserInfoButton({type:"text",text:"\u5f00\u59cb\u591a\u4eba\u6e38\u620f",style:{left:.2*e.screenWidth,top:.73*e.screenHeight,width:.65*e.screenWidth,height:.07*e.screenHeight,lineHeight:.07*e.screenHeight,backgroundColor:"#fe714a",color:"#ffffff",textAlign:"center",fontSize:.025*e.screenHeight,borderRadius:8}}).onTap(function(e){console.log(e)})}})):(cc.log("no."),this.label.string="no Weixin",this.msgBox.string="no Weixin")}}),cc._RF.pop()},{}],yg:[function(e,n,t){"use strict";cc._RF.push(n,"08b26xJmwlBqK2ywY7TMt0F","yg"),cc.Class({extends:cc.Component,properties:{m_Max_Rlen:100,m_Min_Rlen:10,dir:cc.v2(0,0)},onTouchMove:function(e){this.node.x=0,this.node.y=0;var n=e.getLocation(),t=this.node.convertToNodeSpaceAR(n),o=t.mag();if(this.dir.x=t.x/o,this.dir.y=t.y/o,o<=this.m_Min_Rlen)return this.node.setPosition(t),!1;o>this.m_Max_Rlen&&(t.x=t.x*this.m_Max_Rlen/o,t.y=t.y*this.m_Max_Rlen/o),this.node.setPosition(t)},onTouchCancel:function(e){this.node.x=0,this.node.y=0},onLoad:function(){this.node.on(cc.Node.EventType.TOUCH_MOVE,this.onTouchMove,this),this.node.on(cc.Node.EventType.TOUCH_END,this.onTouchCancel,this),this.node.on(cc.Node.EventType.TOUCH_CANCEL,this.onTouchCancel,this)},start:function(){}}),cc._RF.pop()},{}]},{},["HelloWorld","Main","UIBtn","async","enable_phy","food","mapCollider","sanke_ai","sanke_btn","sanke_children","sanke_play","wx_login_test","yg"]);